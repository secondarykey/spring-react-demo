{"version":3,"sources":["Layout.js","Encrypt.js","Locale.js","API.js","pages/Login.js","pages/Plan/Dialog.js","pages/Message.js","pages/Menu.js","pages/Todo/View.js","pages/components/DateTime.js","pages/DateTime/View.js","pages/Plan/View.js","pages/Plan/Input.js","pages/components/FloatInput.js","pages/Floating/View.js","pages/components/Paging.js","pages/Paging/View.js","pages/Dialogs/Dialog.js","pages/Dialogs/View.js","pages/Pages.js","reportWebVitals.js","index.js","Authentication.js","Util.js","Dialog.js","pages/components/Select.js","Progress.js"],"names":["setMessageId","setMessages","setMessageType","setErrorDetail","changeTitle","setBreadcrumbs","logout","Logout","Redirect","path","cause","undefined","global","location","href","process","ClearMessage","UnknownErrorMessage","detail","msg","JSON","stringify","WriteMessage","id","type","WriteErrorMessage","err","data","response","messageID","msgs","messages","result","withRouter","WrappedComponent","props","params","useParams","ChangeTitle","titleId","name","GetLabel","page","SetBreadcrumbs","crumbs","children","useState","messageId","messageIdFunc","messageType","messageTypeFunc","messagesFunc","title","setTitle","detailFunc","crumbsFunc","bg","Brand","className","onClick","map","val","idx","active","length","link","Item","variant","eventKey","Header","Body","Encrypt","buf","bytes","AES","decrypt","this","SECRETKEY","parse","toString","CryptJS","enc","Utf8","obj","encrypt","inst","selectMessages","locale","lang","Package","language","en","ja","zh","create","cache","createIntlCache","createIntl","changeLanguage","e","setLanguage","Locale","getLanguage","selectLang","remove","cookies","setState","intl","set","get","state","value","React","Component","formatMessage","Label","Message","GetLanguage","SetLanguage","RemoveLanguage","SelectLanguage","languages","values","onChange","withCookies","API","jwt","CreateJWT","instance","axios","headers","timeout","console","log","url","callback","caller","method","createInstance","Show","ctx","request","then","catch","error","Promise","reject","finally","Hide","resp","SpaceRow","Row","Col","xs","Login","handleLoginClick","userId","current","password","post","Save","user","isUnknownError","status","expiry","handleUpdateClick","new1","newPassword1","new2","newPassword2","oldPassword","put","createRef","Form","Container","Group","Control","placeholder","ref","Button","Remove","to","Menu","gotoPlan","gotoDate","gotoToDo","gotoPaging","gotoFloat","gotoDialogs","Card","Title","Text","permission","ToDo","addText","todos","add","bind","del","args","push","filter","x","self","ShowConfirm","delete","style","margin","ListGroup","as","marginTop","DateTime","showDay","showTime","step","empty","t","parseInt","day","hour","minute","Date","getHours","getMinutes","date","rtn","Util","zeroPadding","getFullYear","getMonth","getDate","hours","i","minutes","dateFormat","customInput","selected","handleDay","Select","h","handleHour","m","handleMinute","DateView","show","d","dt","datetime","time","PlanView","handleInput","target","nowString","places","plans","placeId","Table","slice","PlanInputDialog","handleShow","targetDate","handleClose","handleCommit","place","start","end","Modal","onHide","closeButton","defaultValue","Footer","PlanInput","details","formatTime","FloatInput","setValue","input","inputId","ID","handleInputFocus","handleDocumentClick","float","contains","firstShow","hide","document","addEventListener","removeEventListener","floatStyle","width","offsetWidth","zIndex","readOnly","onFocus","treeData","key","disableCheckbox","View","handleSelect","searchTree","treeInput","child","treeRef","minHeight","onSelect","defaultExpandedKeys","defaultSelectedKeys","Paging","handleClick","num","display","max","paging","currentPage","numberOfPage","last","indent","Math","floor","items","Pagination","prev","next","First","Prev","disabled","Next","Last","Time","handleTimezone","v","timezone","handleChange","viewTimes","handleInsert","zone","numberOfDisplay","times","handleClicked","p","limitValues","timezoneList","striped","bordered","size","dateToWithout","offsetToWith","Dialog","brightness","message","handleUpdate","backdrop","height","createObj","changeColor","updateCard","cards","elm","handleSingle","zz","clickCount","setTimeout","showDialog","ShowInformation","dialog","createClassName","base","Stack","direction","gap","AuthenticationPages","element","createCrumbs","Page","indexOf","concat","useEffect","Pages","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","CookiesProvider","basename","Layout","getElementById","noAuthenticationURLs","Authentication","urls","forEach","session","decode","exiry","isAuthPage","refreshReload","mouseMove","refreshFunc","refreshTimer","once","setInterval","clearTimeout","clientExpiry","pathname","match","encode","save","Role","role","Array","isArray","includes","ignore","LoginPage","Name","formatDate","len","join","pattern","strs","split","patterns","matchStringGlob","fn","resolve","promise","handleYes","centered","selectedIndex","options","vals","clazz","optionList","text","Progress","animation"],"mappings":"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","file":"static/js/main.46a32aaf.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Helmet,HelmetProvider } from \"react-helmet-async\";\r\n\r\nimport {\r\n  Container,Navbar,Breadcrumb,\r\n  Alert,Accordion,Button\r\n} from 'react-bootstrap';\r\n\r\nimport Locale,{Label,Message,GetLabel} from \"./Locale\";\r\nimport Authentication from \"./Authentication\";\r\nimport Dialog from \"./Dialog\";\r\nimport Progress from \"./Progress\";\r\nimport {LoginPage,Name,Logout} from \"./Authentication\";\r\n\r\nimport \"./css/Main.css\"\r\n\r\nvar setMessageId;\r\nvar setMessages;\r\nvar setMessageType;\r\nvar setErrorDetail;\r\nvar changeTitle;\r\nvar setBreadcrumbs;\r\n\r\nfunction logout() {\r\n  Logout();\r\n  return false;\r\n}\r\n\r\nconst Layout = ({children}) => {\r\n\r\n  const [messageId,messageIdFunc] = useState(\"\");\r\n  const [messageType,messageTypeFunc] = useState(\"danger\");\r\n  const [messages,messagesFunc] = useState([]);\r\n\r\n  const [title,setTitle] = useState(\"Loading... PAS\")\r\n  const [detail,detailFunc] = useState(\"\");\r\n  const [crumbs,crumbsFunc] = useState([]);\r\n\r\n  setMessageId = messageIdFunc;\r\n  setMessageType = messageTypeFunc;\r\n  setErrorDetail = detailFunc;\r\n  setMessages = messagesFunc;\r\n  changeTitle = setTitle;\r\n  setBreadcrumbs = crumbsFunc;\r\n\r\n  return (<>\r\n\r\n<HelmetProvider>\r\n  <Helmet title={ title } />\r\n</HelmetProvider>\r\n\r\n<Authentication />\r\n\r\n<Locale>\r\n\r\n  <Navbar bg=\"light\">\r\n    <Container>\r\n      <Navbar.Brand href={process.env.PUBLIC_URL + \"/pages/menu\"}>Demo</Navbar.Brand>\r\n      <LoginPage> \r\n        <div><Name/><br/>\r\n          <Button className=\"linkText\" onClick={logout}>ログアウト</Button>\r\n        </div>\r\n      </LoginPage>\r\n    </Container>\r\n  </Navbar>\r\n\r\n  <LoginPage> \r\n    <Breadcrumb className=\"Layout-Breadcrumbs\">\r\n      {crumbs.map( (val,idx) => {\r\n        var active = (idx+1 === crumbs.length);\r\n        var name = GetLabel(val.id);\r\n        var link = val.link;\r\n        return (\r\n          <Breadcrumb.Item active={active} key={\"breadcrumbs-\" + idx} href=\"#\"\r\n            onClick={() => Redirect(link)}>{name}</Breadcrumb.Item>\r\n        )\r\n      })}\r\n    </Breadcrumb>\r\n  </LoginPage>\r\n\r\n  <main>\r\n    {messageId !== \"\" &&\r\n      <Alert key=\"1\" variant={messageType}> \r\n        {messages.length === 0 &&\r\n          <Message id={messageId}/> \r\n        }\r\n        {messages.length !== 0 &&\r\n          <ul>\r\n            {messages.map( (msg,idx) => {\r\n              return <li key={idx}>{msg}</li>\r\n            })}\r\n          </ul>\r\n        }\r\n\r\n        {detail !== \"\" &&\r\n        <Accordion>\r\n          <Accordion.Item eventKey=\"0\">\r\n            <Accordion.Header className=\"Layout-SystemDetail\">\r\n              <Label id=\"PRFN00L000\"/> \r\n            </Accordion.Header>\r\n            <Accordion.Body>{detail}</Accordion.Body>\r\n          </Accordion.Item>\r\n        </Accordion>\r\n\r\n        }\r\n      </Alert>\r\n    }\r\n\r\n    {children}\r\n\r\n  </main>\r\n\r\n  <Dialog/>\r\n  <Progress/>\r\n\r\n</Locale>\r\n\r\n</>)}\r\n\r\nexport function Redirect(path,cause) {\r\n  if ( path === undefined ) return;\r\n  const l = global.location;\r\n  l.href = process.env.PUBLIC_URL + path;\r\n}\r\n\r\nexport function ClearMessage() {\r\n  setMessageId(\"\");\r\n  setMessages([]);\r\n  setMessageType(\"danger\");\r\n  setErrorDetail(\"\");\r\n}\r\n\r\nexport function UnknownErrorMessage(detail) {\r\n  let msg = detail;\r\n  if ( detail !== null && typeof detail === \"object\" ) {\r\n    msg = JSON.stringify(detail);\r\n  }\r\n  setMessageId(\"PRFN00M000\");\r\n  setMessages([]);\r\n  setMessageType(\"danger\");\r\n  setErrorDetail(msg);\r\n}\r\n\r\nexport function WriteMessage(id,type) {\r\n  setMessageType(type);\r\n  setMessageId(id);\r\n}\r\n\r\nexport function WriteErrorMessage(err) {\r\n\r\n  var resp = err.response;\r\n  var data = resp.data;\r\n\r\n  var id = data.messageID\r\n  var msgs = data.messages;\r\n  var detail = data.result;\r\n\r\n  setMessageType(\"danger\");\r\n  setMessageId(id);\r\n  setMessages(msgs);\r\n\r\n  if (detail === undefined ) {\r\n      detail = \"\";\r\n  }\r\n  setErrorDetail(detail);\r\n}\r\n\r\nexport const withRouter = WrappedComponent => props => {\r\n  const params = useParams();\r\n  return (\r\n    <WrappedComponent\r\n      {...props}\r\n      params={params}\r\n    />\r\n  );\r\n};\r\n\r\nexport function ChangeTitle(titleId) {\r\n  let name = GetLabel(\"SYSTEM\");\r\n  let page = GetLabel(titleId);\r\n  changeTitle(page + \"[\" + name + \"]\");\r\n}\r\n\r\nexport function SetBreadcrumbs(crumbs) {\r\n  setBreadcrumbs(crumbs);\r\n}\r\nexport default withRouter(Layout);\r\n","import AES from \"crypto-js/aes\";\r\nimport CryptJS from \"crypto-js\";\r\n\r\nclass Encrypt {\r\n    static SECRETKEY = 'aes-256-cbc-text';\r\n    static decode(buf) {\r\n        if ( buf === undefined || buf === null || buf === \"\" ) {\r\n            return undefined;\r\n        }\r\n        var bytes = AES.decrypt(buf,this.SECRETKEY);\r\n        var obj = JSON.parse(bytes.toString(CryptJS.enc.Utf8));\r\n        return obj;\r\n    }\r\n    static encode(obj) {\r\n        if ( obj === undefined ) {\r\n            return undefined;\r\n        }\r\n        var buf = JSON.stringify(obj);\r\n        var ret = AES.encrypt(buf,this.SECRETKEY);\r\n        return ret.toString();\r\n    }\r\n}\r\n\r\nexport default Encrypt;","import React from 'react';\r\nimport {FormattedMessage} from \"react-intl\";\r\nimport {createIntl, createIntlCache, RawIntlProvider} from 'react-intl';\r\nimport { instanceOf } from \"prop-types\";\r\nimport { withCookies,Cookies } from \"react-cookie\";\r\nimport Select from \"./pages/components/Select\";\r\nimport Package from \"../package.json\";\r\n\r\nimport ja from './locale-data/ja.json';\r\nimport en from './locale-data/en.json';\r\nimport zh from './locale-data/zh.json';\r\n\r\nfunction selectMessages(locale) {\r\n  let lang = locale;\r\n  if ( lang === \"default\" ) {\r\n     lang = Package.language;\r\n  }\r\n  switch(lang) {\r\n    case 'en': return en;\r\n    case 'ja': return ja;\r\n    case 'zh': return zh;\r\n    default: return en;\r\n  }\r\n}\r\n\r\nfunction create(locale) {\r\n    const cache = createIntlCache()\r\n    var intl = createIntl({\r\n      locale,\r\n      messages: selectMessages(locale)\r\n    }, cache);\r\n    return intl;\r\n}\r\n\r\nvar inst;\r\nfunction changeLanguage(e) {\r\n  inst.setLanguage(e);\r\n}\r\n\r\nexport class Locale extends React.Component {\r\n\r\n  static propTypes = {\r\n      cookies : instanceOf(Cookies).isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n\r\n      super(props);\r\n\r\n      inst = this;\r\n      const { cookies } = this.props;\r\n\r\n      let lang = cookies.get(\"language\");\r\n      this.selectLang = lang;\r\n      if ( lang == null ) {\r\n        lang = Package.language;\r\n        this.selectLang = \"default\";\r\n      }\r\n      this.state = {intl:create(lang)};\r\n  }\r\n\r\n  getLanguage = () => {\r\n    return this.selectLang;\r\n  }\r\n\r\n  remove = () => {\r\n    const { cookies } = this.props;\r\n    cookies.remove('language', { path: '/' });\r\n  }\r\n\r\n  setLanguage = (locale) => {\r\n    var lang = locale;\r\n    if ( locale === \"default\" ) {\r\n      lang = Package.language;\r\n    }\r\n\r\n    this.setState({intl:create(lang)});\r\n    const { cookies } = this.props;\r\n    cookies.set('language', locale, { path: '/' });\r\n\r\n    this.selectLang = locale;\r\n  }\r\n\r\n  render() {\r\n    return  (\r\n      <RawIntlProvider value={this.state.intl}> <> {this.props.children} </> </RawIntlProvider>\r\n    )\r\n  }\r\n}\r\n\r\nfunction get(id) {\r\n  return inst.state.intl.formatMessage({id:id});\r\n}\r\n\r\nexport function GetMessage(id) {\r\n  return get(id);\r\n}\r\n\r\nexport function GetLabel(id) {\r\n  return get(id);\r\n}\r\n\r\nexport function Label(props) {\r\n  return (\r\n    <FormattedMessage id={props.id}/>\r\n  )\r\n}\r\n\r\nexport function Message(props) {\r\n  return (\r\n    <FormattedMessage id={props.id}/>\r\n  )\r\n}\r\n\r\nexport function GetLanguage() {\r\n  return inst.getLanguage();\r\n}\r\n\r\nexport function SetLanguage(lang) {\r\n  return inst.setLanguage(lang);\r\n}\r\n\r\nexport function RemoveLanguage() {\r\n  return inst.remove();\r\n}\r\n\r\nexport function SelectLanguage() {\r\n\r\n  let languages = {};\r\n  languages[\"default\"] = GetLabel(\"PRFN00L004\");\r\n  languages[\"en\"] = GetLabel(\"PRFN00L001\");\r\n  languages[\"zh\"] = GetLabel(\"PRFN00L002\");\r\n  languages[\"ja\"] = GetLabel(\"PRFN00L003\");\r\n\r\n  return (<>\r\n    <FormattedMessage id=\"PRFN00L103\"/>\r\n    <Select values={languages} value={inst.selectLang} onChange={changeLanguage} />\r\n  </>);\r\n}\r\n\r\nexport default withCookies(Locale);\r\n","import axios from 'axios';\r\nimport {CreateJWT} from \"./Authentication\";\r\nimport {Show,Hide} from \"./Progress\";\r\nimport {UnknownErrorMessage}  from \"./Layout\";\r\nimport { GetLanguage } from './Locale';\r\n\r\nclass API {\r\n\r\n  static createInstance() {\r\n    var jwt = CreateJWT();\r\n    const instance = axios.create({\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization' : jwt,\r\n        'Language' : GetLanguage()\r\n      }, timeout: 10000,\r\n    });\r\n\r\n    console.log(GetLanguage());\r\n\r\n    return instance;\r\n  }\r\n\r\n  static async post(url, callback, data) {\r\n    return await this.caller(\"POST\",url,callback,data);\r\n  }\r\n\r\n  static async put(url, callback, data) {\r\n    return await this.caller(\"PUT\",url,callback,data);\r\n  }\r\n\r\n  static async delete(url, callback, data) {\r\n    return await this.caller(\"DELETE\",url,callback,data);\r\n  }\r\n   \r\n  static async caller(method,url, callback, data) {\r\n\r\n    let inst = this.createInstance();\r\n    Show();\r\n\r\n    var ctx = process.env.PUBLIC_URL + url;\r\n    return await inst.request({\r\n      method : method, url : ctx, data : data}).then(response => {\r\n        return callback(response)\r\n      }).catch( (error) => {\r\n        return Promise.reject(error)\r\n      }).finally( () => {\r\n        Hide();\r\n      });\r\n  }\r\n\r\n  static isUnknownError(err) {\r\n    if ( err !== undefined ) {\r\n      var resp = err.response;\r\n      if ( resp !== undefined ) {\r\n        var data = resp.data;\r\n        if ( data.messageID !== undefined ) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n\r\n    UnknownErrorMessage(err);\r\n    return true;\r\n  }\r\n}\r\nexport default API\r\n","import React from \"react\";\r\nimport {\r\n  Container,Row,Col,\r\n  Form,Button\r\n } from 'react-bootstrap';\r\n\r\nimport {SelectLanguage, GetLanguage,SetLanguage,\r\n        GetLabel,Label} from '../Locale';\r\n\r\nimport {WriteErrorMessage,ClearMessage,Redirect}  from \"../Layout\";\r\nimport {Save} from \"../Authentication\";\r\nimport API from \"../API\";\r\n\r\nclass Login extends React.Component {\r\n\r\n  constructor(props) {\r\n\r\n      super(props);\r\n\r\n      this.userId = React.createRef(); \r\n      this.password = React.createRef(); \r\n      this.newPassword1 = React.createRef(); \r\n      this.newPassword2 = React.createRef(); \r\n\r\n      this.state = { expiry : false }\r\n  }\r\n\r\n  handleLoginClick = (e) => {\r\n\r\n    ClearMessage();\r\n\r\n    let data = {\r\n        id : this.userId.current.value,\r\n        password : this.password.current.value,\r\n        language : GetLanguage()\r\n    }\r\n\r\n    API.post(\"/api/v1/login\",\r\n      resp => {\r\n        Save(resp.data.result.user);\r\n        SetLanguage(resp.data.result.language);\r\n        Redirect('/pages/menu');\r\n    },data).catch( (err) => {\r\n\r\n      if ( API.isUnknownError(err) ) {\r\n        return;\r\n      }\r\n\r\n      let resp = err.response;\r\n      let result = resp.data;\r\n      switch ( resp.status ) {\r\n        case 401:\r\n          let expiry = false;\r\n          let msgId = result.messageID;\r\n          if ( msgId === \"PRFN00M102\" ) {\r\n             expiry = true\r\n          }\r\n          this.setState({ expiry : expiry });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      WriteErrorMessage(err);\r\n    });\r\n\r\n    return false;\r\n  }\r\n\r\n  handleUpdateClick = (e) => {\r\n\r\n    let new1 = this.newPassword1.current.value;\r\n    let new2 = this.newPassword2.current.value;\r\n    let data = {\r\n        userId      : this.userId.current.value,\r\n        oldPassword : this.password.current.value,\r\n        newPassword1 : new1,\r\n        newPassword2 : new2\r\n    }\r\n\r\n    API.put(\"/api/v1/password\",\r\n      resp => {\r\n        Save(resp.data.result.user);\r\n        Redirect('/pages/menu');\r\n    },data).catch( (err) => {\r\n      if ( API.isUnknownError(err) ) {\r\n        return;\r\n      }\r\n      WriteErrorMessage(err);\r\n    });\r\n\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    let expiry = this.state.expiry;\r\n\r\n    return ( <>\r\n\r\n<Form>\r\n  <Container>\r\n\r\n    <SpaceRow>\r\n      <Form.Group>\r\n        <Form.Label> <Label id=\"PRFN00L101\"/> </Form.Label>\r\n        <Form.Control type=\"text\" placeholder={GetLabel(\"PRFN00L101\")} ref={this.userId} />\r\n      </Form.Group>\r\n    </SpaceRow>\r\n\r\n    <SpaceRow>\r\n      <Form.Group>\r\n        <Form.Label> <Label id=\"PRFN00L102\"/> </Form.Label>\r\n        <Form.Control type=\"password\" placeholder=\"\" ref={this.password} />\r\n      </Form.Group>\r\n    </SpaceRow>\r\n\r\n    <SpaceRow>\r\n      <SelectLanguage />\r\n    </SpaceRow>\r\n\r\n    {/* ログインボタン */}\r\n    {!expiry &&\r\n    <SpaceRow>\r\n      <Button variant=\"primary\" onClick={this.handleLoginClick}> \r\n        <Label id=\"PRFN00L104\"/>\r\n      </Button>\r\n    </SpaceRow>\r\n    }\r\n\r\n    {/* 有効期限フォーム */}\r\n    {expiry &&\r\n<>\r\n    <SpaceRow>\r\n      <Form.Group>\r\n        <Form.Label> <Label id=\"PRFN00L202\"/> </Form.Label>\r\n        <Form.Control type=\"password\" placeholder=\"Password\" ref={this.newPassword1} />\r\n      </Form.Group>\r\n    </SpaceRow>\r\n\r\n    <SpaceRow>\r\n      <Form.Group>\r\n        <Form.Label> <Label id=\"PRFN00L203\"/> </Form.Label>\r\n        <Form.Control type=\"password\" placeholder=\"Password\" ref={this.newPassword2} />\r\n      </Form.Group>\r\n    </SpaceRow>\r\n\r\n    <SpaceRow>\r\n      <Button variant=\"primary\" onClick={this.handleUpdateClick}> \r\n        <Label id=\"PRFN00L204\"/>\r\n      </Button>\r\n    </SpaceRow>\r\n</>\r\n    }\r\n\r\n  </Container>\r\n\r\n</Form>\r\n\r\n</>);\r\n  }\r\n}\r\n\r\nfunction SpaceRow(props) {\r\n  return (\r\n<Row className=\"mb-3\">\r\n  <Col></Col>\r\n  <Col xs=\"6\">\r\n    {props.children}\r\n  </Col>\r\n  <Col></Col>\r\n</Row>\r\n  );\r\n}\r\n\r\nexport default Login\r\n","import React,{createRef} from \"react\";\r\nimport {\r\n    Row,Col,\r\n    Button, Modal, Form\r\n} from \"react-bootstrap\";\r\n\r\nimport DateTime from \"../components/DateTime\";\r\nimport API from \"../../API\";\r\nimport {ClearMessage, WriteErrorMessage} from \"../../Layout\";\r\n\r\nexport function ShowInput(date) {\r\n    inst.handleShow(date);\r\n}\r\n\r\nvar inst;\r\nclass PlanInputDialog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        inst = this;\r\n\r\n        this.state = {\r\n            targetDate : undefined,\r\n\t\t\tshow : false,\r\n            name : \"計画 詳細\",\r\n            start: \"0 8:00\",\r\n            end: \"0 12:00\"\r\n\t\t}\r\n\r\n        this.start = createRef(); \r\n        this.end = createRef(); \r\n        this.name = createRef(); \r\n\r\n        this.handleShow = this.handleShow.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleCommit = this.handleCommit.bind(this);\r\n    }\r\n\r\n\thandleShow = (date) => {\r\n        ClearMessage();\r\n\t\tthis.setState({\r\n            show:true,\r\n            targetDate:date\r\n        });\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({show:false})\r\n\t}\r\n\r\n\thandleCommit = () => {\r\n\r\n        let obj = {\r\n            place : 1,\r\n            name : this.name.current.value,\r\n            date : this.state.targetDate,\r\n            start : this.start.current.get(),\r\n            end : this.end.current.get()\r\n        }\r\n\r\n        API.post(\"/api/demo/plan/edit\", resp => {\r\n          console.log(resp)\r\n          //API呼び出し\r\n\t\t  this.handleClose();\r\n        },obj).catch( (err) => {\r\n          if ( API.isUnknownError(err) ) {\r\n            return;\r\n          }\r\n          WriteErrorMessage(err);\r\n        });\r\n\r\n\t}\r\n\r\n    render() {\r\n        return (<>\r\n<Modal show={this.state.show} onHide={this.handleClose}>\r\n  <Modal.Header closeButton>\r\n\t  <Modal.Title>計画入力 {this.state.targetDate}</Modal.Title>\r\n  </Modal.Header>\r\n  <Modal.Body>\r\n      <Row>\r\n      <Col>名称</Col>\r\n      <Col><Form.Control defaultValue={this.state.name} ref={this.name}></Form.Control></Col>\r\n      </Row>\r\n      <Row>\r\n      <Col>開始</Col>\r\n      <Col><DateTime type=\"time\" value={this.state.start} ref={this.start}/></Col>\r\n      </Row>\r\n      <Row>\r\n      <Col>終了</Col>\r\n      <Col><DateTime type=\"time\" value={this.state.end} ref={this.end}/></Col>\r\n      </Row>\r\n  </Modal.Body>\r\n  <Modal.Footer>\r\n    <Button variant=\"primary\" onClick={this.handleCommit}>\r\n        作成\r\n    </Button>\r\n  </Modal.Footer>\r\n</Modal>\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default PlanInputDialog;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withRouter,WriteMessage } from \"../Layout\";\r\nimport { Remove } from \"../Authentication\";\r\nimport { RemoveLanguage } from \"../Locale\";\r\n\r\nclass Message extends React.Component {\r\n\r\n  constructor(props) {\r\n      super(props);\r\n      if ( props.id !== undefined ) {\r\n          WriteMessage(props.id,props.type);\r\n      } else if ( props.params !== undefined ) {\r\n          var id = props.params.id\r\n          WriteMessage(id,props.type);\r\n      }\r\n  }\r\n\r\n  componentDidMount() {\r\n      Remove();\r\n      RemoveLanguage();\r\n  }\r\n\r\n  render() {\r\n    return ( <>\r\n    <Link to=\"/\">ログインする</Link>\r\n</>\r\n  )}\r\n}\r\n\r\nexport default withRouter(Message);\r\n","import React from \"react\";\r\nimport { \r\n  Container,\r\n  Card,Row,Col,Button\r\n} from \"react-bootstrap\";\r\n\r\nimport {Role} from \"../Authentication\";\r\nimport {Redirect} from \"../Layout\";\r\n\r\nimport \"../css/Main.css\";\r\n\r\nclass Menu extends React.Component {\r\n\r\n  gotoPlan = () => {\r\n    Redirect(\"/pages/plan/\");\r\n    return;\r\n  }\r\n\r\n  gotoDate = () => {\r\n    Redirect(\"/pages/date/\");\r\n    return;\r\n  }\r\n\r\n  gotoToDo = () => {\r\n    Redirect(\"/pages/todo/\");\r\n    return;\r\n  }\r\n\r\n  gotoPaging = () => {\r\n    Redirect(\"/pages/paging/\");\r\n    return;\r\n  }\r\n\r\n  gotoFloat = () => {\r\n    Redirect(\"/pages/floating/\");\r\n    return;\r\n  }\r\n\r\n  gotoDialogs = () => {\r\n    Redirect(\"/pages/dialogs/\");\r\n    return;\r\n  }\r\n\r\n  render() {\r\n    return (<>\r\n\r\n<Container>\r\n  <Row>\r\n    <Col>\r\n      <Card className=\"Menu-Card\">\r\n        <Card.Body>\r\n          <Card.Title>Sample TODO</Card.Title>\r\n          <Card.Text> \r\n            Card Text\r\n          </Card.Text>\r\n\r\n          <Button variant=\"primary\" onClick={this.gotoToDo}>Go SampleToDo </Button>\r\n\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n\r\n    <Col>\r\n      <Card className=\"Menu-Card\">\r\n        <Card.Body>\r\n          <Card.Title>Sample Date</Card.Title>\r\n          <Card.Text> \r\n          </Card.Text>\r\n          <Button variant=\"primary\" onClick={this.gotoDate}>Go Sample Date </Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n\r\n    <Col>\r\n      <Card className=\"Menu-Card\">\r\n        <Card.Body>\r\n          <Card.Title>Sample Plan</Card.Title>\r\n          <Card.Text> \r\n          </Card.Text>\r\n          <Button variant=\"primary\" onClick={this.gotoPlan}>Go Plan </Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n\r\n    <Col>\r\n      <Card className=\"Menu-Card\">\r\n        <Card.Body>\r\n          <Card.Title>Sample Float</Card.Title>\r\n          <Card.Text> \r\n          </Card.Text>\r\n          <Button variant=\"primary\" onClick={this.gotoFloat}>Go Sample Float </Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n\r\n    <Col>\r\n      <Card className=\"Menu-Card\">\r\n        <Card.Body>\r\n          <Card.Title>Sample Paging</Card.Title>\r\n          <Card.Text> \r\n          </Card.Text>\r\n          <Button variant=\"primary\" onClick={this.gotoPaging}>Go Database Date</Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n\r\n    <Col>\r\n      <Card className=\"Menu-Card\">\r\n        <Card.Body>\r\n          <Card.Title>Sample Dialog</Card.Title>\r\n          <Card.Text> \r\n          </Card.Text>\r\n          <Button variant=\"primary\" onClick={this.gotoDialogs}>Go Sample Dialog</Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n\r\n    <Role permission={[\"admin\"]}>\r\n      <Col>\r\n      <Card className=\"Menu-Card\">\r\n        <Card.Body>\r\n          <Card.Title>Function Admin</Card.Title>\r\n          <Card.Text> \r\n          </Card.Text>\r\n          <Button variant=\"primary\">Go C</Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n    </Role>\r\n\r\n  </Row>\r\n</Container>\r\n\r\n</>)};\r\n}\r\n\r\nexport default Menu;\r\n","import React from 'react';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\n\r\nimport {WriteErrorMessage} from '../../Layout';\r\nimport API from \"../../API\"\r\nimport {ShowConfirm} from \"../../Dialog\"\r\n\r\nclass ToDo extends React.Component {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.addText = React.createRef();\r\n\r\n    var todos = [];\r\n    this.state = {\r\n      todos:todos\r\n    }\r\n\r\n    this.add = this.add.bind(this); \r\n    this.del = this.del.bind(this); \r\n  }\r\n  \r\n  componentDidMount() {\r\n    var args = {\r\n    };\r\n    API.post(\"/api/demo/todo/view\",resp => {\r\n      let todos = resp.data.result.todos;\r\n      this.setState({\r\n        todos : todos\r\n      })\r\n    },args).catch((err) => {\r\n      if ( API.isUnknownError(err) ) {\r\n        return;\r\n      }\r\n      WriteErrorMessage(err);\r\n    });\r\n  }\r\n\r\n  add() {\r\n    let val = this.addText.current.value;\r\n    var args = {\r\n      value : val\r\n    };\r\n\r\n    API.post(\"/api/demo/todo/register\",resp => {\r\n      let todos = [...this.state.todos]\r\n      todos.push({ \r\n        id : resp.data.result,\r\n        value : val \r\n      });\r\n      this.setState({\r\n        todos:todos\r\n      });\r\n      this.addText.current.value = \"\";\r\n    },args).catch( (err) => {\r\n      if ( API.isUnknownError(err) ) {\r\n        return;\r\n      }\r\n      WriteErrorMessage(err);\r\n    }) \r\n  }\r\n\r\n  del(id) {\r\n\r\n    var args = {\r\n      id : id\r\n    };\r\n\r\n    let todos = this.state.todos.filter((x) => { return x.id !== id });\r\n    var self = this;\r\n\r\n    ShowConfirm(\"タイトル\",\"メッセージ\").then( () => {\r\n      API.delete(\"/api/demo/todo/delete\",resp => {\r\n        self.setState({\r\n          todos:todos\r\n        });\r\n      },args).catch( (err) => {\r\n        if ( API.isUnknownError(err) ) {\r\n          return;\r\n        }\r\n        WriteErrorMessage(err);\r\n      });\r\n    });\r\n  }    \r\n\r\n  render() {\r\n    return ( <>\t\r\n\r\n  <Row className=\"justify-content-between d-flex\" style={{ margin : \"2px\"}}>\r\n    <Form.Control type=\"text\" placeholder=\"\" ref={this.addText}/>\r\n    <Button variant=\"primary\" onClick={() => this.add()}>Add</Button>\r\n  </Row>\r\n\r\n  <ListGroup as=\"ol\" style={ {marginTop:\"20px\"} }>\r\n      { this.state.todos.map( ( obj ) => {\r\n        return (\r\n    <ListGroup.Item as=\"li\" className=\"d-flex justify-content-between align-items-start\" key={obj.id}>\r\n      <div className=\"ms-2 me-auto\">\r\n        <div>{obj.value}</div>\r\n      </div>\r\n      <Button variant=\"danger\" onClick={() => this.del(obj.id)}>DELETE</Button>\r\n    </ListGroup.Item>\r\n        )\r\n      } ) }\r\n  </ListGroup>  \r\n\r\n\t</>);\r\n  }\r\n}\r\n\r\nexport default ToDo;","import React from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\n\r\nimport { Form } from \"react-bootstrap\";\r\nimport Select from \"./Select\";\r\nimport Util from \"../../Util\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport \"../../css/Main.css\";\r\n\r\nclass DateTime extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let showDay = true;\r\n        let showTime = true;\r\n        this.step = 1;\r\n        this.empty = false;\r\n\r\n        var t = props.type;\r\n        if ( t !== undefined ) {\r\n            if ( t === \"date\" ) {\r\n                showTime = false;\r\n            } else if ( t === \"time\" ) {\r\n                showDay = false;\r\n            }\r\n        }\r\n\r\n        if ( props.step !== undefined ) {\r\n            this.step = parseInt(props.step);\r\n        }\r\n\r\n        var day = null;\r\n        var hour = 0;\r\n        var minute = 0;\r\n        if ( props.value !== undefined ) {\r\n            day = new Date(props.value);\r\n            hour = day.getHours();\r\n            minute = day.getMinutes();\r\n        } else {\r\n            if ( props.empty !== undefined ) {\r\n                this.empty = true;\r\n                hour = \"\";\r\n                minute = \"\";\r\n            }\r\n        }\r\n\r\n        this.state = {\r\n            hour : hour,\r\n            minute : minute,\r\n            day : day,\r\n            showDay: showDay,\r\n            showTime: showTime\r\n        }\r\n    }\r\n\r\n    handleDay(day) {\r\n        this.setState({\r\n            day : day\r\n        })\r\n    }\r\n\r\n    handleHour(hour) {\r\n        this.setState({\r\n            hour : hour\r\n        })\r\n    }\r\n\r\n    handleMinute(minute) {\r\n        this.setState({\r\n            minute : minute\r\n        })\r\n    }\r\n\r\n    set(date) {\r\n        let hour = date.getHours();\r\n        let minute = date.getMinutes();\r\n        this.setState({\r\n            day : date,\r\n            hour: hour,\r\n            minute : minute\r\n        })\r\n    }\r\n\r\n    get() {\r\n        let rtn = \"\";\r\n        let day = this.state.day;\r\n        let hour = Util.zeroPadding(this.state.hour,2);\r\n        let minute = Util.zeroPadding(this.state.minute,2);\r\n\r\n        if ( this.state.showDay ) {\r\n            if ( day != null ) {\r\n                rtn = day.getFullYear() +\"-\" + (day.getMonth()+1) + \"-\"+day.getDate();\r\n            } else {\r\n                return undefined;\r\n            }\r\n        }\r\n\r\n        if ( this.state.showTime ) {\r\n            if ( rtn !== \"\" ) {\r\n                rtn += \" \";\r\n            }\r\n            if ( this.empty ) {\r\n                if ( hour === \"\" || minute === \"\" ) {\r\n                    if ( hour !== \"\" || minute !== \"\" ) {\r\n                        if ( rtn === \"\" ) return null;\r\n                        return undefined;\r\n                    }\r\n                }\r\n            }\r\n\r\n            rtn += hour;\r\n            rtn += \":\" + minute;\r\n        }\r\n\r\n        return rtn;\r\n    }\r\n\r\n    render() {\r\n        let hours = []\r\n        for ( let i = 0; i < 24; ++i ) {\r\n            hours[i] = i;\r\n        }\r\n\r\n        let minutes = []\r\n        for ( let i = 0; i < 60; i = i + this.step ) {\r\n            minutes[i] = i;\r\n        }\r\n\r\n        return (\r\n            <>\r\n              <div className=\"DateTime\">\r\n              {this.state.showDay && \r\n                <DatePicker \r\n                  dateFormat=\"yyyy-MM-dd\"\r\n                  customInput={\r\n                    <Form.Control type=\"text\" />\r\n                  }\r\n                  selected={this.state.day}\r\n                  onChange={(date) => this.handleDay(date)}\r\n                /> \r\n              }\r\n\r\n              {this.state.showTime && \r\n                <>\r\n                  <Select values={hours}   className=\"DateTime-Hour\"   value={this.state.hour} empty={this.empty} onChange={ (h)=> this.handleHour(h)}/>\r\n                  <Select values={minutes} className=\"DateTime-Minute\" value={this.state.minute} empty={this.empty} onChange={ (m)=> this.handleMinute(m)}/>\r\n                </>\r\n              }\r\n              </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DateTime;","import React, { createRef } from \"react\";\r\n\r\nimport {Button,Container} from \"react-bootstrap\";\r\nimport DateTime from \"../components/DateTime\";\r\n\r\nclass DateView extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.date = createRef();\r\n        this.datetime = createRef();\r\n        this.time = createRef();\r\n    }\r\n\r\n    show = () => {\r\n        var d = this.date.current;\r\n        var dt = this.datetime.current;\r\n        var t = this.time.current;\r\n        console.log(d.get())\r\n        console.log(t.get())\r\n        console.log(dt.get())\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <Container>\r\n        日付のみ\r\n          <br/>\r\n          <DateTime type=\"date\" ref={this.date} value={new Date().toString()}/>\r\n          <br/>\r\n        時刻のみ\r\n          <br/>\r\n          <DateTime type=\"time\" ref={this.time} step=\"10\" value=\"0 10:10\"/>\r\n          <br/>\r\n          両方\r\n          <br/>\r\n          <DateTime type=\"datetime\" ref={this.datetime} empty=\"true\"/>\r\n          <br/>\r\n          <br/>\r\n          <Button onClick={this.show}>Val</Button>\r\n        </Container>\r\n    )}\r\n}\r\n\r\nexport default DateView;","import React from \"react\";\r\nimport {Container,Table,Button,Row,Col} from \"react-bootstrap\";\r\n\r\n//import Select from \"../components/Select\";\r\nimport {Redirect} from \"../../Layout\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Util from \"../../Util\";\r\nimport API from \"../../API\";\r\nimport {WriteErrorMessage} from '../../Layout';\r\n\r\nclass PlanView extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.places = [];\r\n        this.places[1] = \"日本\";\r\n        this.places[2] = \"中国\";\r\n\r\n        this.state = {\r\n            plans : []\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        var args = {\r\n            placeId : 1\r\n        };\r\n        API.post(\"/api/demo/plan/view\",resp => {\r\n          let plans = resp.data.result.plans;\r\n          this.setState({\r\n            plans : plans\r\n          })\r\n        },args).catch((err) => {\r\n          if ( API.isUnknownError(err) ) {\r\n            return;\r\n          }\r\n          WriteErrorMessage(err);\r\n        });\r\n      }\r\n    \r\n    handleInput = () => {\r\n        var target = Util.nowString();\r\n        Redirect(\"/pages/plan/input/\" + target);\r\n    }\r\n\r\n    render() {\r\n        return (<>\r\n        <Container>\r\n\r\n        <Row>\r\n        {/* \r\n            <Col>\r\n        <Select values={this.places} value={1} />\r\n            </Col>\r\n        */}\r\n\r\n            <Col>\r\n        <Button onClick={this.handleInput}>入力</Button>\r\n            </Col>\r\n        </Row>\r\n        </Container>\r\n\r\n        <Table>\r\n          <tbody>\r\n\r\n       { this.state.plans.map( (obj,idx) => {\r\n           return (\r\n               <tr key={idx}>\r\n                   <td>\r\n            <Link key={idx} to={\"/pages/plan/input/\" + obj.date.slice(0,10)}>{obj.date.slice(0,10)}</Link>\r\n                   </td>\r\n            </tr>\r\n           )\r\n       })} \r\n          </tbody>\r\n        </Table>\r\n\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default PlanView;","import React from \"react\";\r\nimport {Button,Container,Table} from \"react-bootstrap\";\r\nimport PlanInputDialog,{ShowInput} from \"./Dialog\";\r\n\r\nimport {withRouter} from \"../../Layout\";\r\nimport DateTime from \"../components/DateTime\";\r\nimport API from \"../../API\";\r\nimport Util from \"../../Util\";\r\nimport {WriteErrorMessage} from '../../Layout';\r\n\r\nclass PlanInput extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            targetDate : props.params.date,\r\n            details : []\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        var args = {\r\n            placeId : 1,\r\n            date : this.state.targetDate\r\n        };\r\n        API.post(\"/api/demo/plan/detail/view\",resp => {\r\n          let details = resp.data.result.details;\r\n          this.setState({\r\n            details : details\r\n          })\r\n        },args).catch((err) => {\r\n          if ( API.isUnknownError(err) ) {\r\n            return;\r\n          }\r\n          WriteErrorMessage(err);\r\n        });\r\n      }\r\n    handleInput = () => {\r\n        //ダイアログを呼ぶ\r\n        ShowInput(this.state.targetDate);\r\n    }\r\n\r\n    render() {\r\n        return (<>\r\n        <DateTime type=\"date\" value={this.state.targetDate}></DateTime>\r\n        <Button onClick={this.handleInput}>追加</Button>\r\n        <Container>\r\n            <Table>\r\n                <tbody>\r\n\r\n       { this.state.details.map( (obj,idx) => {\r\n           return (\r\n           <tr key={idx}>\r\n              <td> {Util.formatTime(obj.start)} </td>\r\n              <td> {Util.formatTime(obj.end)} </td>\r\n              <td> {obj.name} </td>\r\n            </tr>\r\n           )\r\n       })} \r\n                    </tbody>\r\n            </Table>\r\n        </Container>\r\n\r\n        <PlanInputDialog/>\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default withRouter(PlanInput);","import React from \"react\";\r\n\r\nimport {Form} from \"react-bootstrap\";\r\n\r\nimport \"../../css/Main.css\";\r\n\r\nclass FloatInput extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            float : false\r\n        }\r\n        this.input = React.createRef();\r\n        this.float = React.createRef();\r\n        this.inputId = props.value;\r\n        this.firstShow = false;\r\n    }\r\n\r\n    setValue = (id,name)  => {\r\n        this.input.current.value = name;\r\n        this.inputId = id;\r\n    }\r\n\r\n    ID = ()  => {\r\n        return this.inputId;\r\n    }\r\n\r\n    show() {\r\n        this.setState({\r\n            float:true\r\n        })\r\n        this.firstShow = true;\r\n        document.addEventListener(\"click\",this.handleDocumentClick);\r\n    }\r\n\r\n    hide() {\r\n        this.setState({\r\n            float:false\r\n        })\r\n        document.removeEventListener(\"click\",this.handleDocumentClick);\r\n    }\r\n\r\n    handleInputFocus = (e) => {\r\n        this.show();\r\n    }\r\n\r\n    handleDocumentClick = (e) => {\r\n        if ( this.float.current.contains(e.target) ) {\r\n            return;\r\n        }\r\n        if ( this.firstShow && this.input.current.contains(e.target) ) {\r\n            this.firstShow = false;\r\n            return;\r\n        }\r\n        this.hide();\r\n    }\r\n\r\n    render() {\r\n\r\n        let floatStyle = {}\r\n        //TODO 本当はボーダーもコピーしたい\r\n        if ( this.state.float ) {\r\n          floatStyle = {\r\n            width: this.input.current.offsetWidth,\r\n            zIndex: this.input.current.style.zIndex + 10\r\n          };\r\n        }\r\n        \r\n        return (<>\r\n        <Form.Control type=\"text\" readOnly placeholder={this.props.placeholder} ref={this.input} onFocus={ (e) => this.handleInputFocus(e)}/>\r\n        { this.state.float &&\r\n        <div className=\"FloatComponent\" style={floatStyle} ref={this.float}>\r\n            {this.props.children}\r\n        </div>\r\n        }\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default FloatInput;","import React, { createRef } from \"react\";\r\n\r\nimport {Container} from \"react-bootstrap\";\r\n\r\nimport FloatInput from \"../components/FloatInput\";\r\n\r\nimport Tree from 'rc-tree';\r\n\r\nimport \"../../css/Main.css\";\r\nimport 'rc-tree/assets/index.css';\r\n\r\nconst treeData = [\r\n  {\r\n    key: '0-0',\r\n    title: 'parent 1',\r\n    children: [\r\n      { key: '0-0-0', title: 'parent 1-1', children: [{ key: '0-0-0-0', title: 'parent 1-1-0' }] },\r\n      {\r\n        key: '0-0-1',\r\n        title: 'parent 1-2',\r\n        children: [\r\n          { key: '0-0-1-0', title: 'parent 1-2-0', disableCheckbox: true },\r\n          { key: '0-0-1-1', title: 'parent 1-2-1' },\r\n          { key: '0-0-1-2', title: 'parent 1-2-2' },\r\n          { key: '0-0-1-3', title: 'parent 1-2-3' },\r\n          { key: '0-0-1-4', title: 'parent 1-2-4' },\r\n          { key: '0-0-1-5', title: 'parent 1-2-5' },\r\n          { key: '0-0-1-6', title: 'parent 1-2-6' },\r\n          { key: '0-0-1-7', title: 'parent 1-2-7' },\r\n          { key: '0-0-1-8', title: 'parent 1-2-8' },\r\n          { key: '0-0-1-9', title: 'parent 1-2-9' },\r\n          { key: 1128, title: 1128 },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nclass View extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.treeRef = createRef();\r\n        this.treeInput =createRef();\r\n    }\r\n\r\n    handleSelect = (e) => {\r\n\r\n        //TODO データ検索をしやすくしておいた方がいい\r\n        console.log(\"start\");\r\n        let obj = this.searchTree(treeData,e[0]);\r\n        if ( obj === null ) {\r\n            //ない\r\n            return;\r\n        }\r\n\r\n        //親を選択して終了があるならこの条件はいらない\r\n        if ( obj.children === undefined ){\r\n            var current = this.treeInput.current;\r\n            current.setValue(obj.key,obj.title);\r\n            current.hide();\r\n        }\r\n    }\r\n\r\n    searchTree = (children,id) => {\r\n\r\n        if ( children === undefined ) {\r\n            return null;\r\n        }\r\n\r\n        for ( let idx in children ) {\r\n            var child = children[idx];\r\n            if ( child.key === id ) {\r\n                return child;\r\n            }\r\n            let obj = this.searchTree(child.children,id)\r\n            if ( obj !== null ) {\r\n               return obj;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n        return (<>\r\n        <FloatInput>\r\n            <Container>\r\n                AAa <br/> BBB\r\n            </Container>\r\n        </FloatInput>\r\n\r\n        <div>Other Component</div>\r\n\r\n        <FloatInput ref={this.treeInput}>\r\n          <Container style={ { minHeight:\"200px\"} }>\r\n              <Tree \r\n                ref={this.treeRef} \r\n                treeData={treeData} \r\n                onSelect={(e) => this.handleSelect(e) }\r\n                defaultExpandedKeys={[\"0-0\"]}\r\n                defaultSelectedKeys={[\"0-0\"]}\r\n                />\r\n          </Container>\r\n        </FloatInput>\r\n\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default View;","import React from \"react\";\r\nimport {Pagination} from \"react-bootstrap\";\r\n\r\nclass Paging extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            display : props.max,\r\n            paging : {}\r\n        }\r\n        this.onClick = props.onClick\r\n    }\r\n\r\n    handleClick = (num) => {\r\n        if ( this.onClick !== undefined ) {\r\n            this.onClick(num);\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let paging = this.props.paging;\r\n\r\n        if ( paging.currentPage === undefined ) {\r\n            paging = {\r\n                currentPage : 0,\r\n                numberOfPage : 0\r\n            }\r\n        }\r\n\r\n        let active = paging.currentPage;\r\n        let last = paging.numberOfPage;\r\n        let display = this.state.display;\r\n\r\n        let indent = Math.floor(display / 2);\r\n \r\n        let start = active - indent;\r\n        if ( start <= 0 ) {\r\n            start = 1;\r\n        } else if ( start >= last - display ) {\r\n            start = last - display + 1;\r\n        }\r\n\r\n        let end = start + display - 1;\r\n        if ( end > last ) {\r\n            end = last;\r\n        }\r\n\r\n        var items = [];\r\n        for ( let num = start; num <= end; num ++ ) {\r\n            items.push(\r\n                <Pagination.Item key={num} active={num === active} onClick={(e) => this.handleClick(num)}>\r\n                    {num}\r\n                </Pagination.Item>\r\n            );\r\n        }\r\n\r\n        let prev = (active === 1);\r\n        let next = (active === last);\r\n\r\n        return (\r\n        <Pagination>\r\n          <Pagination.First onClick={(e) => this.handleClick(1)}/>\r\n          <Pagination.Prev disabled={prev} onClick={(e) => this.handleClick(active - 1)}/>\r\n          {items}\r\n          <Pagination.Next disabled={next} onClick={(e) => this.handleClick(active + 1)}/>\r\n          <Pagination.Last onClick={(e) => this.handleClick(last)}/>\r\n        </Pagination>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Paging;","import React from \"react\";\r\n\r\nimport {Table,Button,Container} from \"react-bootstrap\";\r\nimport Paging from \"../components/Paging\";\r\nimport DateTime from \"../components/DateTime\";\r\nimport Select from \"../components/Select\";\r\nimport API from \"../../API\";\r\nimport {WriteErrorMessage} from \"../../Layout\";\r\n\r\nclass Time extends React.Component {\r\n    constructor (props) {\r\n        super(props)\r\n        this.date = React.createRef();\r\n\r\n        this.limitValues = [];\r\n        this.limitValues[5] = 5;\r\n        this.limitValues[10] = 10;\r\n        this.limitValues[100] = 100;\r\n\r\n        this.timezoneList = {};\r\n        this.timezoneList[\"ACT\"]=\"Australia/Darwin(ACT)\";\r\n        this.timezoneList[\"AET\"]=\"Australia/Sydney(AET)\";\r\n        this.timezoneList[\"AGT\"]=\"America/Argentina/Buenos_Aires(AGT)\";\r\n        this.timezoneList[\"ART\"]=\"Africa/Cairo(ART)\";\r\n        this.timezoneList[\"AST\"]=\"America/Anchorage(AST)\";\r\n        this.timezoneList[\"BET\"]=\"America/Sao_Paulo(BET)\";\r\n        this.timezoneList[\"BST\"]=\"Asia/Dhaka(BST)\";\r\n        this.timezoneList[\"CAT\"]=\"Africa/Harare(CAT)\";\r\n        this.timezoneList[\"CNT\"]=\"America/St_Johns(CNT)\";\r\n        this.timezoneList[\"CST\"]=\"America/Chicago(CST)\";\r\n        this.timezoneList[\"CTT\"]=\"Asia/Shanghai(CTT)\";\r\n        this.timezoneList[\"EAT\"]=\"Africa/Addis_Ababa(EAT)\";\r\n        this.timezoneList[\"ECT\"]=\"Europe/Paris(ECT)\";\r\n        this.timezoneList[\"EST\"]=\"-05:00(EST)\";\r\n        this.timezoneList[\"HST\"]=\"-10:00(HST)\";\r\n        this.timezoneList[\"IET\"]=\"America/Indiana/Indianapolis(IET)\";\r\n        this.timezoneList[\"IST\"]=\"Asia/Kolkata(IST)\";\r\n        this.timezoneList[\"JST\"]=\"Asia/Tokyo(JST)\";\r\n        this.timezoneList[\"MIT\"]=\"Pacific/Apia(MIT)\";\r\n        this.timezoneList[\"MST\"]=\"-07:00(MST)\";\r\n        this.timezoneList[\"NET\"]=\"Asia/Yerevan(NET)\";\r\n        this.timezoneList[\"NST\"]=\"Pacific/Auckland(NST)\";\r\n        this.timezoneList[\"PLT\"]=\"Asia/Karachi(PLT)\";\r\n        this.timezoneList[\"PNT\"]=\"America/Phoenix(PNT)\";\r\n        this.timezoneList[\"PRT\"]=\"America/Puerto_Rico(PRT)\";\r\n        this.timezoneList[\"PST\"]=\"America/Los_Angeles(PST)\";\r\n        this.timezoneList[\"SST\"]=\"Pacific/Guadalcanal(SST)\";\r\n        this.timezoneList[\"VST\"]=\"Asia/Ho_Chi_Minh(VST)\";\r\n\r\n        this.timezone = \"JST\";\r\n\r\n        this.state = {\r\n            times : [],\r\n            paging : { \r\n                current : 1,\r\n                numberOfDisplay : 5 \r\n            }\r\n        }\r\n\r\n        this.handleInsert = this.handleInsert.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.viewTimes(1,5);\r\n    }\r\n\r\n    viewTimes(num,max) {\r\n        let args = {\r\n            paging : {\r\n              currentPage:num,\r\n              numberOfDisplay:max\r\n            }\r\n        }\r\n        API.post(\"/api/demo/times/view\",resp => {\r\n            let rtn = resp.data.result;\r\n            this.setState({\r\n                times : rtn.times,\r\n                paging : rtn.paging\r\n            });\r\n        },args).catch( (err) => {\r\n            if ( API.isUnknownError(err) ) {\r\n                return;\r\n              }\r\n              WriteErrorMessage(err);\r\n        });\r\n    }\r\n\r\n    handleTimezone = (v) => {\r\n        this.timezone = v;\r\n    }\r\n\r\n    handleChange = (v) => {\r\n        //let limit = this.limitValues[v];\r\n        this.viewTimes(1,v);\r\n    }\r\n\r\n    handleInsert = () => {\r\n        let val = this.date.current.get();\r\n        let args = {\r\n            value : val,\r\n            zone : this.timezone,\r\n            paging : {\r\n              currentPage:1,\r\n              numberOfDisplay:this.state.paging.numberOfDisplay\r\n            }\r\n        }\r\n\r\n        API.post(\"/api/demo/times/register\",resp => {\r\n            let rtn = resp.data.result;\r\n            this.setState({\r\n                times : rtn.times,\r\n                paging : rtn.paging\r\n            });\r\n            this.date.current.set(new Date());\r\n        },args).catch( (err) => {\r\n            if ( API.isUnknownError(err) ) {\r\n                return;\r\n              }\r\n              WriteErrorMessage(err);\r\n        });\r\n\r\n    }\r\n\r\n    handleClicked = (p) => {\r\n        this.viewTimes(p,this.state.paging.numberOfDisplay);\r\n    }\r\n\r\n    render() {\r\n        return (<>\r\n    <Container>\r\n        <Select className=\"Paging-Timezone\" values={this.timezoneList} value={this.timezone} onChange={(v) => this.handleTimezone(v)}/>\r\n        <DateTime type=\"datetime\" ref={this.date} value={new Date().toString()}/>\r\n        <Button onClick={this.handleInsert}>追加</Button>\r\n    </Container>\r\n\r\n    <Container>\r\n\r\n        <Table striped bordered size=\"sm\">\r\n          <thead>\r\n            <tr>\r\n                <th>ID</th>\r\n                <th>値</th>\r\n                <th>Date</th>\r\n                <th>Time</th>\r\n                <th>Date To Without</th>\r\n                <th>OffsetDateTime To With</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n\r\n        {this.state.times.map( (obj,idx) => {\r\n            return (\r\n            <tr key={idx}>\r\n                <td>{obj.id}</td>\r\n                <td>{obj.value}</td>\r\n                <td>{obj.date}</td>\r\n                <td>{obj.time}</td>\r\n                <td>{obj.dateToWithout}</td>\r\n                <td>{obj.offsetToWith}</td>\r\n            </tr>\r\n            )\r\n        })}\r\n\r\n          </tbody>\r\n        </Table>\r\n    </Container>\r\n\r\n    <Container style={ {display:\"flex\"} }>\r\n      <Select className=\"Paging-Limit\" values={this.limitValues} value={this.state.paging.numberOfDisplay}  onChange={ (v)=> this.handleChange(v)}/>\r\n      <Paging paging={this.state.paging} max={5} onClick={(p) => this.handleClicked(p)} />\r\n    </Container>\r\n        </>)\r\n    }\r\n\r\n}\r\n\r\nexport default Time;","import React from \"react\";\r\n\r\nimport {\r\n    Modal,Button\r\n} from \"react-bootstrap\";\r\nimport { ShowConfirm } from \"../../Dialog\";\r\n\r\nclass Dialog extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            show : false\r\n        }\r\n    }\r\n\r\n    show = (name) => {\r\n        this.setState({\r\n            show : true,\r\n            brightness:1,\r\n            title : name + \"から呼び出し\",\r\n            message:\"更新でダイアログの二重起動を行います。\"\r\n        })\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({\r\n            show : false\r\n        })\r\n    }\r\n\r\n    handleUpdate = () => {\r\n\r\n        let self = this;\r\n        this.setState({\r\n          brightness : 0.5\r\n        })\r\n\r\n        ShowConfirm(\"２重起動\",\"２重起動側\").then( () => {\r\n          self.handleClose();\r\n        }).finally(function() {\r\n          self.setState({\r\n            brightness : 1\r\n          })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (<>\r\n<Modal show={this.state.show} style={ { filter: \"brightness(\" + this.state.brightness + \")\"} }onHide={this.handleClose} backdrop=\"static\">\r\n  <Modal.Header closeButton>\r\n\t  <Modal.Title>{this.state.title}</Modal.Title>\r\n  </Modal.Header>\r\n  <Modal.Body style={ {height:\"200px\"} }>{this.state.message}</Modal.Body>\r\n  <Modal.Footer>\r\n    <Button variant=\"secondary\" onClick={this.handleClose}>\r\n        とじる\r\n    </Button>\r\n    <Button variant=\"primary\" onClick={this.handleUpdate}>\r\n        更新\r\n    </Button>\r\n  </Modal.Footer>\r\n</Modal>\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default Dialog;","import React, { createRef } from \"react\";\r\n\r\nimport {\r\n    Container, Row,Col,Stack,\r\n    Card,\r\n    Button,\r\n} from \"react-bootstrap\";\r\n\r\nimport { ShowInformation,ShowConfirm } from \"../../Dialog\";\r\nimport { ClearMessage, WriteMessage } from \"../../Layout\";\r\n\r\nimport DoubleDialog from \"./Dialog\"\r\n\r\n\r\nclass View extends React.Component {\r\n\r\n    constructor(props)  {\r\n        super(props)\r\n        this.state = {\r\n            cards : []\r\n        }\r\n        this.clickCount = 0;\r\n\r\n        this.changeColor = this.changeColor.bind(this);\r\n        this.dialog = createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        let cards = [];\r\n\r\n        cards.push(this.createObj(1,\"A\",0));\r\n        cards.push(this.createObj(2,\"B\",1));\r\n        cards.push(this.createObj(3,\"C\",2));\r\n        cards.push(this.createObj(4,\"D\",0));\r\n\r\n        this.setState({\r\n            cards : cards\r\n        })\r\n\r\n    }\r\n\r\n    createObj = ( id,name,state ) => {\r\n        return {\r\n            id : id,\r\n            name : name,\r\n            state : state\r\n        }\r\n    }\r\n\r\n    changeColor = ( obj,state ) => {\r\n        ClearMessage();\r\n        if ( obj.state === state ) {\r\n            //取り消し\r\n            obj.state = 0;\r\n        } else {\r\n            obj.state = state;\r\n        }\r\n\r\n        let updateCard = this.state.cards.map( (elm) => {\r\n            if ( obj.id === elm.id ) {\r\n                elm.state = obj.state;\r\n            }\r\n            return elm;\r\n        });\r\n\r\n        this.setState({\r\n            cards : updateCard\r\n        })\r\n    }\r\n\r\n    handleSingle = (e,zz,obj,state) => {\r\n        this.clickCount++;\r\n        if ( this.clickCount < 2 ) {\r\n            setTimeout(() => {\r\n                if ( this.clickCount > 1 ) {\r\n                    this.changeColor(obj,state);\r\n                } else {\r\n                    this.showDialog(obj,zz)\r\n                }\r\n                this.clickCount = 0;\r\n            },300)\r\n        }\r\n    }\r\n\r\n    showDialog = (obj,zz) => {\r\n        ClearMessage();\r\n        switch (zz) {\r\n            case \"info\":\r\n                ShowInformation(obj.name + \"の呼び出し\",\"押したよ\")\r\n                break;\r\n            case \"confirm\":\r\n                ShowConfirm(obj.name + \"の呼び出し\", \"はいを押したらメッセージ\").then( () => {\r\n                    WriteMessage(\"YES!\",\"success\");\r\n                });\r\n                break;\r\n            case \"original\":\r\n                this.dialog.current.show(obj.name);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    createClassName = (obj) => {\r\n        let base = \"Dialogs-Card\";\r\n        switch ( obj.state ) {\r\n            case 1:\r\n                base += \" Dialogs-State1\";\r\n                break;\r\n            case 2:\r\n                base += \" Dialogs-State2\";\r\n                break;\r\n            default:\r\n                break;\r\n        };\r\n        return base;\r\n    }\r\n\r\n    render() {\r\n    return (<>\r\n    <Container>\r\n        <Row>\r\n\r\n        {this.state.cards.map( (obj) => {\r\n            return (<>\r\n            <Col>\r\n        <Card className={this.createClassName(obj)}>\r\n\r\n            <Card.Title>{obj.name}</Card.Title>\r\n            <Stack direction=\"horizontal\" gap={3}>\r\n\r\n            <Button variant=\"primary\" className=\"Dialogs-Button\"\r\n                    onClick={(e) => this.handleSingle(e,\"info\",obj,0)}> \r\n                Info\r\n            </Button>\r\n\r\n            <Button variant=\"success\" className=\"Dialogs-Button\"\r\n                    onClick={(e) => this.handleSingle(e,\"confirm\",obj,1)}> \r\n                Confirm\r\n            </Button>\r\n\r\n            <Button variant=\"danger\" className=\"Dialogs-Button\"\r\n                    onClick={(e) => this.handleSingle(e,\"original\",obj,2)}> \r\n                Original\r\n            </Button>\r\n            </Stack>\r\n        </Card>\r\n            </Col>\r\n            </>);\r\n        })}\r\n        </Row>\r\n    </Container>\r\n\r\n    <DoubleDialog ref={this.dialog}/>\r\n    </>)}\r\n}\r\n\r\nexport default View;","import {  Routes,Route,Navigate } from \"react-router-dom\";\r\n\r\nimport Login    from './Login';\r\nimport Message  from './Message';\r\nimport Menu     from './Menu';\r\nimport ToDo     from './Todo/View';\r\nimport DateView from './DateTime/View';\r\nimport PlanView from './Plan/View';\r\nimport PlanInput from './Plan/Input';\r\nimport FloatingView from './Floating/View';\r\nimport PagingView from './Paging/View';\r\nimport Dialogs from './Dialogs/View';\r\nimport {ChangeTitle,ClearMessage,SetBreadcrumbs} from \"../Layout\";\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"../css/Main.css\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Pages =() => {\r\n    return (<>\r\n  <Routes>\r\n    <Route path=\"/\"            element={<Page id=\"LOGIN\"><Login /></Page>} />\r\n    <Route path=\"/pages/*\"     element={<AuthenticationPages/>}/>\r\n    <Route path=\"/message/:id\" element={<Page id=\"MESSAGE\"><Message type=\"success\" /></Page>} />\r\n    <Route path=\"/error/:id\"   element={<Page id=\"ERROR\"><Message type=\"danger\" /></Page>} />\r\n    <Route path=\"*\" element={<Navigate to=\"/error/PRFN98M000\"/>} />\r\n  </Routes>\r\n    </>);\r\n}\r\nconst AuthenticationPages = (props) => {\r\n    return (<>\r\n  <Routes>\r\n    <Route path=\"menu\" element={\r\n      <Page id=\"MENU\" crumbs={[]}>\r\n        <Menu />\r\n      </Page>\r\n    }/>\r\n    <Route path=\"todo/\" element={\r\n      <Page id=\"TODO\" crumbs={[]}>\r\n        <ToDo/>\r\n      </Page>\r\n    }/>\r\n    <Route path=\"date/\" element={\r\n      <Page id=\"DATE\" crumbs={[]}>\r\n        <DateView/>\r\n      </Page>\r\n    }/>\r\n    <Route path=\"floating/\" element={\r\n      <Page id=\"FLOATING\" crumbs={[]}>\r\n        <FloatingView/>\r\n      </Page>\r\n    }/>\r\n    <Route path=\"plan/\" element={\r\n      <Page id=\"PLAN\" crumbs={[]}>\r\n        <PlanView/>\r\n      </Page>\r\n    }/>\r\n    <Route path=\"plan/input/:date\" element={\r\n      <Page id=\"PLANINPUT\" crumbs={[createCrumbs(\"PLAN\",\"/pages/plan/\")]}>\r\n        <PlanInput/>\r\n      </Page>\r\n    }/>\r\n    <Route path=\"paging/\" element={\r\n      <Page id=\"PAGING\" crumbs={[]}>\r\n        <PagingView/>\r\n      </Page>\r\n    }/>\r\n    <Route path=\"dialogs/\" element={\r\n      <Page id=\"DIALOGS\" crumbs={[]}>\r\n        <Dialogs/>\r\n      </Page>\r\n    }/>\r\n  </Routes>\r\n  </>);\r\n}\r\n\r\nconst createCrumbs = (id,link) => {\r\n  var rtn = {};\r\n  rtn.id = id;\r\n  rtn.link = link;\r\n  return rtn;\r\n}\r\n\r\nconst Page = (props) => {\r\n\r\n  let crumbs = [createCrumbs(\"MENU\",\"/pages/menu\")];\r\n  let url = document.location.href;\r\n\r\n  //メニューかを判定\r\n  if ( url.indexOf(\"/pages/menu\") === -1 ) {\r\n    let target = props.crumbs;\r\n    if ( target !== undefined ) {\r\n      crumbs = crumbs.concat(target);\r\n    }\r\n    //自分自身を設定\r\n    crumbs.push(createCrumbs(props.id,props.link));\r\n  }\r\n\r\n  useEffect(() => {\r\n    ClearMessage();\r\n    ChangeTitle(props.id);\r\n    SetBreadcrumbs(crumbs);\r\n  })\r\n  return (<>{props.children}</>)\r\n}\r\n\r\nexport default Pages;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CookiesProvider } from \"react-cookie\";\r\n\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport Layout   from './Layout';\r\nimport Pages from \"./pages/Pages\"\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <CookiesProvider> \r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <Layout> \r\n          <Pages></Pages>\r\n        </Layout>\r\n      </Router>\r\n    </CookiesProvider> \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n","import React from \"react\";\r\n\r\nimport { instanceOf } from \"prop-types\";\r\nimport { withCookies,Cookies } from \"react-cookie\";\r\n\r\nimport { Redirect } from \"./Layout\";\r\nimport Package from \"../package.json\";\r\nimport Encrypt from \"./Encrypt\";\r\nimport Util from \"./Util\";\r\n\r\nconst noAuthenticationURLs = [\"/\",\"/error/*\",\"/message/*\"];\r\n\r\nvar inst;\r\nclass Authentication extends React.Component {\r\n\r\n  static propTypes = {\r\n      cookies : instanceOf(Cookies).isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n\r\n      super(props)\r\n      inst = this;\r\n\r\n      this.urls = [];\r\n      noAuthenticationURLs.forEach( (v) => {\r\n        this.urls.push(process.env.PUBLIC_URL + v);\r\n      })\r\n\r\n      const {cookies} = this.props;\r\n      let session = cookies.get(\"session\");\r\n      this.session = Encrypt.decode(session);\r\n\r\n      if ( this.session !== undefined ) {\r\n        var now = new Date()\r\n        var ex = new Date(this.session.exiry)\r\n        if ( now <= ex ) {\r\n          //有効期限切れ\r\n          Redirect(\"/message/expiry\",\"Authentication 有効期限切れ\");\r\n          return;\r\n        }\r\n      } else {\r\n        if ( this.isAuthPage() ) {\r\n          //認証なしでのアクセス\r\n          Redirect(\"/message/noneAuth\",\"Authentication 認証なしアクセス\");\r\n          return;\r\n        }\r\n      }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.refreshReload = undefined;\r\n    var mouseMove = false;\r\n    var self = this;\r\n\r\n    if ( !this.isAuthPage() ) {\r\n      return;\r\n    }\r\n    var refreshFunc = function() {\r\n      if ( mouseMove ) {\r\n        self.refreshTimer();\r\n        mouseMove = false;\r\n        console.log(\"refresh:\" + new Date());\r\n      }\r\n    }\r\n\r\n    var once = true;\r\n    document.addEventListener(\"mousemove\",function() {\r\n      mouseMove = true;\r\n      if ( once ) {\r\n        setInterval(refreshFunc,5000);\r\n        once = false;\r\n      }\r\n    });\r\n    this.refreshTimer();\r\n  }\r\n\r\n  refreshTimer() {\r\n    if ( !this.isAuthPage() ) {\r\n      return;\r\n    }\r\n\r\n    if ( this.refreshReload !== undefined ) {\r\n      clearTimeout(this.refreshReload);\r\n    }\r\n    this.refreshReload = setTimeout(function() {\r\n      Redirect(\"/error/refresh\",\"Authentication refresh\")\r\n    },1000 * Package.clientExpiry);\r\n  }\r\n\r\n  isAuthPage() {\r\n    const l = global.location;\r\n    let path = l.pathname;\r\n    return !Util.match(path,this.urls);\r\n  }\r\n\r\n  save(obj) {\r\n      const {cookies} = this.props;\r\n      var buf = Encrypt.encode(obj);\r\n      cookies.set(\"session\",buf,{path: \"/\"});\r\n  }\r\n\r\n  remove() {\r\n      const {cookies} = this.props;\r\n      cookies.remove(\"session\",{path:\"/\"});\r\n  }\r\n\r\n  render() {\r\n    return (<></>);\r\n  }\r\n}\r\n\r\nexport function Save(obj) {\r\n    inst.save(obj);\r\n    return true;\r\n}\r\n\r\nexport function CreateJWT() {\r\n    if ( inst.session !== undefined ) {\r\n      return Encrypt.encode(inst.session);\r\n    }\r\n    return \"\";\r\n}\r\n\r\nexport function Role(props) {\r\n    if ( inst.session !== undefined ) {\r\n        var role = inst.session.role;\r\n        if ( Array.isArray(props.permission) ) {\r\n            if ( props.permission.includes(role) ) {\r\n                return (<>{props.children}</>);\r\n            }\r\n        } else if ( Array.isArray(props.ignore) ) {\r\n            if ( !props.permission.includes(role) ) {\r\n                return (<>{props.children}</>);\r\n            }\r\n        }\r\n    } \r\n    return (<></>)\r\n}\r\n\r\nexport function LoginPage(props) {\r\n    if ( !inst.isAuthPage() ) {\r\n      return (<></>);\r\n    }\r\n    return (<>{props.children}</>);\r\n}\r\n\r\nexport function Remove(props) {\r\n  inst.remove();\r\n  return;\r\n}\r\n\r\nexport function Logout(props) {\r\n    Redirect(\"/message/Logout\",\"Logout\");\r\n    return;\r\n}\r\n\r\nexport function Name() {\r\n    if ( inst.session !== undefined ) {\r\n        return inst.session.name;\r\n    }\r\n    return \"\";\r\n}\r\n\r\nexport default withCookies(Authentication)\r\n","class Util {\r\n\r\n  static formatTime(date) {\r\n    let d = new Date(Date.parse(date));\r\n    return this.zeroPadding(d.getHours(),2) + \":\" + \r\n              this.zeroPadding(d.getMinutes(),2);\r\n  }\r\n\r\n  static formatDate(date) {\r\n    return date.getFullYear() + \"-\" + \r\n              this.zeroPadding((date.getMonth() + 1),2) + \"-\" + \r\n              this.zeroPadding(date.getDate(),2);\r\n  }\r\n\r\n  static nowString() {\r\n    return this.formatDate(new Date());\r\n  }\r\n \r\n  static zeroPadding(num,len) {\r\n    return ( Array(len).join(\"0\") + num ).slice(-1 * len);\r\n  }\r\n\r\n  //文字列のGlob判定(*のみ)\r\n  static matchStringGlob(pattern,v) {\r\n\r\n    let strs = pattern.split(\"*\")\r\n\r\n    if ( strs.length === 1 ) {\r\n      if ( pattern === v ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\n    let idx = 0;\r\n    for (let i = 0; i < strs.length; i++ ) {\r\n      let key = strs[i];\r\n      if ( key === \"\" ) {\r\n        continue;\r\n      }\r\n      let p = v.indexOf(key);\r\n      if ( idx <= p ) {\r\n        idx = p + key.length;\r\n      } else {\r\n          return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  // patternsからvalが存在するかを判定\r\n  static match(val,patterns) {\r\n\r\n    if ( !Array.isArray(patterns) ) {\r\n        return undefined;\r\n    }\r\n\r\n    for (let i = 0; i < patterns.length; i++ ) {\r\n      let key = patterns[i];\r\n      if ( this.matchStringGlob(key,val) ) {\r\n          return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n}\r\n\r\nexport default Util;","import React from \"react\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\nvar inst;\r\n\r\nexport function ShowInformation(title,message,fn) {\r\n\treturn inst.handleShow(title,message,\"information\");\r\n}\r\n\r\nexport function ShowConfirm(title,message) {\r\n\treturn inst.handleShow(title,message,\"confirm\");\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tinst = this;\r\n\t\tthis.state = {\r\n\t\t\tshow : false,\r\n\t\t}\r\n\t}\r\n\r\n\thandleShow = (title,message,t) => {\r\n\t\tlet rtn = new Promise((resolve,reject) => {\r\n\t\t  this.setState({\r\n\t\t\t  promise : {\r\n\t\t\t\t  resolve : resolve,\r\n\t\t\t\t  reject : reject,\r\n\t\t\t  },\r\n\t\t\t  type:t,\r\n\t\t\t  title:title,\r\n\t\t\t  message:message,\r\n\t\t\t  show:true,\r\n\t\t  });\r\n\t\t})\r\n\t\treturn rtn;\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.state.promise.reject();\r\n\t\tthis.setState({show:false})\r\n\t}\r\n\r\n\thandleYes = () => {\r\n\t\tthis.state.promise.resolve();\r\n\t\tthis.handleClose();\r\n\t}\r\n\r\n\trender = () => {\r\n\t  return (<>\r\n<Modal show={this.state.show} onHide={this.handleClose} centered>\r\n\r\n  <Modal.Header closeButton>\r\n\t  <Modal.Title>{this.state.title}</Modal.Title>\r\n  </Modal.Header>\r\n\t  <Modal.Body>{this.state.message}</Modal.Body>\r\n  <Modal.Footer>\r\n\r\n\t{ this.state.type === \"information\" &&\r\n    <Button variant=\"secondary\" onClick={this.handleClose}>\r\n\t\tとじる\r\n    </Button>\r\n\t}\t\r\n\r\n\t{ this.state.type === \"confirm\" &&\r\n\t<>\r\n    <Button variant=\"secondary\" onClick={this.handleClose}>\r\n\t\tいいえ\r\n    </Button>\r\n    <Button variant=\"primary\" onClick={this.handleYes}>\r\n\t\tはい\r\n    </Button>\r\n\t</>\r\n\t}\r\n  </Modal.Footer>\r\n</Modal>\r\n\t\t</>\r\n\t)\r\n  }\r\n}  \r\n\r\nexport default Dialog;","import React from \"react\";\r\n\r\nclass Select extends React.Component  {\r\n\r\n\r\n    handleChange = (e) => {\r\n        var idx = e.target.selectedIndex;\r\n        var val = e.target.options[idx];\r\n        if ( this.props.onChange !== undefined ) {\r\n          this.props.onChange(val.value);\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let vals = this.props.values;\r\n        if ( vals === undefined || vals === null ) {\r\n            vals = [];\r\n        }\r\n\r\n        let clazz = \"form-select\";\r\n        if ( this.props.className !== undefined ) {\r\n            clazz += \" \" + this.props.className;\r\n        }\r\n\r\n        var optionList = []\r\n        if ( Array.isArray(vals) ) {\r\n          vals.map( (text,key)  => {\r\n            optionList.push(<option value={key} key={key}>{text}</option>)\r\n            return true;\r\n          })\r\n        } else if ( (typeof vals) == \"object\" )  {\r\n          for ( let key in vals ) {\r\n            optionList.push(<option value={key} key={key}>{vals[key]}</option>)\r\n          }\r\n        } else {\r\n            return (<>\r\n            SelectTag values is not array\r\n            </>)\r\n        }\r\n\r\n        return (<>\r\n          <select \r\n            className={clazz} \r\n            defaultValue={this.props.value} \r\n            onChange={this.handleChange}>\r\n              { this.props.empty &&\r\n                <option value=\"\"></option>\r\n              }\r\n              {optionList}\r\n          </select>\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default Select;","import React from \"react\";\n\nimport Toast from 'react-bootstrap/Toast';\nimport Spinner from 'react-bootstrap/Spinner';\n\nvar inst;\nclass Progress extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            show : false\n        }\n        inst = this;\n    }\n\n    render() {\n      return (<>\n  <Toast className=\"Progress\" show={this.state.show}>\n    <Toast.Body>\n      <strong>Loading...</strong>\n      <Spinner animation=\"border\"/>\n    </Toast.Body>\n  </Toast>\n</>);\n    }\n}\n\nexport function Show() {\n    inst.setState({show:true})\n}\nexport function Hide() {\n    inst.setState({show:false})\n}\n\nexport default Progress;\n"],"sourceRoot":""}