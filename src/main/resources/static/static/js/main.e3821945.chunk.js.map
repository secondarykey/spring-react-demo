{"version":3,"sources":["Dialog.js","pages/Menu.js","reportWebVitals.js","API.js","pages/Login.js","pages/Error.js","pages/Todo/View.js","index.js","Layout.js","Authentication.js","Progress.js","Locale.js"],"names":["inst","ShowDialog","title","message","fn","console","log","handleShow","Dialog","props","setState","show","okHandle","handleClose","handleYes","state","render","onHide","Header","closeButton","Title","Body","Footer","undefined","variant","onClick","React","Component","Menu","handle","gotoToDo","global","location","href","className","Text","this","permission","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","API","jwt","CreateJWT","axios","create","headers","timeout","url","callback","data","caller","method","createInstance","Show","request","response","catch","error","Promise","reject","finally","Hide","err","resp","messageID","UnknownErrorMessage","SpaceRow","Row","Col","xs","children","Login","WrappedComponent","handleLoginClick","e","ClearMessage","id","userId","current","value","password","post","Save","result","user","window","isUnknownError","status","expiry","msgId","messageId","WriteErrorMessage","handleUpdateClick","new1","newPassword1","newPassword2","oldPassword","newPassword","put","createRef","Form","Container","Group","Label","Control","type","placeholder","ref","Alert","Button","Error","WriteMessage","params","withRouter","useParams","ToDo","addText","todos","add","bind","del","val","args","push","filter","x","self","delete","style","margin","ListGroup","as","marginTop","map","obj","Item","ReactDOM","StrictMode","CookiesProvider","Authentication","Layout","path","element","document","getElementById","setMessage","setErrorDetail","logout","Logout","detail","msg","JSON","stringify","useState","messageIdFunc","detailFunc","bg","Brand","eventKey","SECRETKEY","noAuthenticationURLs","session","cookies","get","decode","l","Date","exiry","noAuth","includes","pathname","buf","encode","set","remove","bytes","AES","decrypt","parse","toString","CryptJS","enc","Utf8","encrypt","save","Role","role","Array","isArray","ignore","LoginPage","Name","name","withCookies","Progress","animation","selectMessages","locale","en","ja","zh","cache","createIntlCache","createIntl","messages","changeLanguage","Locale","intl","lang","navigator","language","SelectLanguage","onSelect","Toggle"],"mappings":"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","file":"static/js/main.e3821945.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\nvar inst;\r\n\r\nexport function ShowDialog(title,message,fn) {\r\n\tconsole.log(inst);\r\n\tinst.handleShow(title,message,fn);\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tinst = this;\r\n\t\tthis.state = {\r\n\t\t\tshow : false,\r\n\t\t\tokHandle:undefined\r\n\t\t}\r\n\t}\r\n\r\n\thandleShow = (title,message,fn) => {\r\n\t\tthis.setState({\r\n\t\t\ttitle:title,\r\n\t\t\tmessage:message,\r\n\t\t\tshow:true,\r\n\t\t\tokHandle:fn\r\n\t\t});\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({show:false})\r\n\t}\r\n\r\n\thandleYes = () => {\r\n\t\tthis.state.okHandle();\r\n\t\tthis.handleClose();\r\n\t}\r\n\r\n\trender = () => {\r\n\t  return (<>\r\n<Modal show={this.state.show} onHide={this.handleClose}>\r\n  <Modal.Header closeButton>\r\n\t  <Modal.Title>{this.state.title}</Modal.Title>\r\n  </Modal.Header>\r\n\t  <Modal.Body>{this.state.message}</Modal.Body>\r\n  <Modal.Footer>\r\n\r\n\t{ this.state.okHandle === undefined &&\r\n    <Button variant=\"secondary\" onClick={this.handleClose}>\r\n\t\tとじる\r\n    </Button>\r\n\t}\t\r\n\r\n\t{ this.state.okHandle !== undefined &&\r\n\t<>\r\n    <Button variant=\"secondary\" onClick={this.handleClose}>\r\n\t\tいいえ\r\n    </Button>\r\n    <Button variant=\"primary\" onClick={this.handleYes}>\r\n\t\tはい\r\n    </Button>\r\n\t</>\r\n\t}\r\n  </Modal.Footer>\r\n</Modal>\r\n\t\t</>\r\n\t)\r\n  }\r\n}  \r\n\r\nexport default Dialog;","import React from \"react\";\n\nimport Container from \"react-bootstrap/container\";\nimport Card from \"react-bootstrap/card\";\nimport Row from \"react-bootstrap/row\";\nimport Col from \"react-bootstrap/col\";\nimport Button from \"react-bootstrap/button\";\n\nimport {Role} from \"../Authentication\";\n\nimport \"../css/Main.css\";\n\nclass Menu extends React.Component {\n\n  handle = () => {\n      return false;\n  }\n\n  gotoToDo = () => {\n    global.location.href=\"/pages/todo\";\n  }\n\n  render() {\n    return (<>\n\n<Container>\n  <Row>\n    <Col>\n      <Card className=\"Menu-Card\">\n        <Card.Body>\n          <Card.Title>Sample TODO</Card.Title>\n          <Card.Text> \n            Card Text\n          </Card.Text>\n\n          <Button variant=\"primary\" onClick={this.gotoToDo}>Go SampleToDo </Button>\n\n        </Card.Body>\n      </Card>\n    </Col>\n\n    <Col>\n      <Card className=\"Menu-Card\">\n        <Card.Body>\n          <Card.Title>Function B</Card.Title>\n          <Card.Text> \n          </Card.Text>\n          <Button variant=\"primary\">Go B</Button>\n        </Card.Body>\n      </Card>\n    </Col>\n\n    <Role permission={[\"admin\"]}>\n      <Col>\n      <Card className=\"Menu-Card\">\n        <Card.Body>\n          <Card.Title>Function Admin</Card.Title>\n          <Card.Text> \n          </Card.Text>\n          <Button variant=\"primary\">Go C</Button>\n        </Card.Body>\n      </Card>\n    </Col>\n    </Role>\n\n  </Row>\n</Container>\n\n</>)};\n}\n\nexport default Menu;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios from 'axios';\nimport {CreateJWT} from \"./Authentication\";\nimport {Show,Hide} from \"./Progress\";\nimport {UnknownErrorMessage}  from \"./Layout\";\n\nclass API {\n\n  static createInstance() {\n    var jwt = CreateJWT();\n    const instance = axios.create({\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization' : jwt\n      }, timeout: 10000,\n    });\n\n    return instance;\n  }\n\n  static async post(url, callback, data) {\n    return await this.caller(\"POST\",url,callback,data);\n  }\n\n  static async put(url, callback, data) {\n    return await this.caller(\"PUT\",url,callback,data);\n  }\n\n  static async delete(url, callback, data) {\n    return await this.caller(\"DELETE\",url,callback,data);\n  }\n   \n  static async caller(method,url, callback, data) {\n\n    let inst = this.createInstance();\n    Show();\n    return await inst.request({\n      method : method, url : url, data : data}).then(response => {\n        return callback(response)\n      }).catch( (error) => {\n        return Promise.reject(error)\n      }).finally( () => {\n        Hide();\n      });\n  }\n\n  static isUnknownError(err) {\n    var resp = err.response;\n    if ( resp !== undefined ) {\n      var data = resp.data;\n      if ( data.messageID !== undefined ) {\n        return false;\n      }\n    }\n    UnknownErrorMessage(err);\n    return true;\n  }\n}\nexport default API\n","import React from \"react\";\n\nimport {FormattedMessage} from \"react-intl\";\n\nimport Form      from 'react-bootstrap/Form';\nimport Button    from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row       from 'react-bootstrap/Row';\nimport Col       from 'react-bootstrap/Col';\nimport Alert     from 'react-bootstrap/Alert';\n\nimport {SelectLanguage} from '../Locale';\nimport {WriteErrorMessage,ClearMessage}  from \"../Layout\";\nimport {Save} from \"../Authentication\";\nimport API from \"../API\";\n\nclass Login extends React.Component {\n\n  constructor(props) {\n\n      super(props);\n\n      this.userId = React.createRef(); \n      this.password = React.createRef(); \n      this.oldPassword = React.createRef(); \n      this.newPassword1 = React.createRef(); \n      this.newPassword2 = React.createRef(); \n\n      this.state = { expiry : false, messageId : \"\" }\n  }\n\n\n  handleLoginClick = (e) => {\n\n    ClearMessage();\n\n    let data = {\n        id : this.userId.current.value,\n        password : this.password.current.value\n    }\n\n    API.post(\"/api/v1/login\",\n      resp => {\n        Save(resp.data.result.user);\n        window.location = '/pages/menu';\n    },data).catch( (err) => {\n\n      if ( API.isUnknownError(err) ) {\n        return;\n      }\n\n      let resp = err.response;\n      let result = resp.data;\n      switch ( resp.status ) {\n        case 401:\n          let expiry = false;\n          let msgId = result.messageID;\n          if ( msgId === \"PRFN00M102\" ) {\n             expiry = true\n          }\n          this.setState({ expiry : expiry, messageId : msgId });\n          break;\n        default:\n          WriteErrorMessage(err);\n          break;\n      }\n    });\n\n    return false;\n  }\n\n  handleUpdateClick = (e) => {\n\n    let new1 = this.newPassword1.current.value;\n    let new2 = this.newPassword2.current.value;\n\n    if ( new1 !== new2 ) {\n        this.setState({ messageId : \"PRFN00M201\" });\n        return;\n    }\n\n    this.setState({ messageId : \"\" });\n    let data = {\n        userId      : this.userId.current.value,\n        oldPassword : this.oldPassword.current.value,\n        newPassword : new1\n    }\n\n    API.put(\"/api/v1/password\",\n      resp => {\n        console.log(resp.data);\n        window.location = '/pages/menu';\n    },data).catch( (err) => {\n      if ( API.isUnknownError(err) ) {\n        return;\n      }\n      WriteErrorMessage(err);\n    });\n\n    return false;\n  }\n\n  render() {\n\n    const expiry = this.state.expiry;\n    const msgId = this.state.messageId;\n\n    return ( <>\n\n<Form>\n  <Container>\n    <SpaceRow>\n      <Form.Group>\n        <Form.Label> <FormattedMessage id=\"PRFN00L101\"/> </Form.Label>\n        <Form.Control type=\"email\" placeholder=\"\" ref={this.userId} />\n      </Form.Group>\n    </SpaceRow>\n\n    <SpaceRow>\n      <Form.Group>\n        <Form.Label> <FormattedMessage id=\"PRFN00L102\"/> </Form.Label>\n        <Form.Control type=\"password\" placeholder=\"\" ref={this.password} />\n      </Form.Group>\n    </SpaceRow>\n\n    <SpaceRow>\n      <SelectLanguage />\n    </SpaceRow>\n\n    {/*メッセージ表示 */}\n    {msgId !== \"\" &&\n    <SpaceRow>\n      <Alert key=\"1\" variant=\"danger\"> <FormattedMessage id={msgId}/> </Alert>\n    </SpaceRow>\n    }\n\n    {/* ログインボタン */}\n    {!expiry &&\n    <SpaceRow>\n      <Button variant=\"primary\" onClick={this.handleLoginClick}> \n        <FormattedMessage id=\"PRFN00L104\"/>\n      </Button>\n    </SpaceRow>\n    }\n\n    {/* 有効期限フォーム */}\n    {expiry &&\n<>\n    <SpaceRow>\n      <Form.Group>\n        <Form.Label> <FormattedMessage id=\"PRFN00L201\"/> </Form.Label>\n        <Form.Control type=\"password\" placeholder=\"Password\" ref={this.oldPassword} />\n      </Form.Group>\n    </SpaceRow>\n\n    <SpaceRow>\n      <Form.Group>\n        <Form.Label> <FormattedMessage id=\"PRFN00L202\"/> </Form.Label>\n        <Form.Control type=\"password\" placeholder=\"Password\" ref={this.newPassword1} />\n      </Form.Group>\n    </SpaceRow>\n\n    <SpaceRow>\n      <Form.Group>\n        <Form.Label> <FormattedMessage id=\"PRFN00L203\"/> </Form.Label>\n        <Form.Control type=\"password\" placeholder=\"Password\" ref={this.newPassword2} />\n      </Form.Group>\n    </SpaceRow>\n\n    <SpaceRow>\n      <Button variant=\"primary\" onClick={this.handleUpdateClick}> \n        <FormattedMessage id=\"PRFN00L204\"/>\n      </Button>\n    </SpaceRow>\n</>\n    }\n\n  </Container>\n\n</Form>\n\n</>);\n  }\n}\n\nfunction SpaceRow(props) {\n  return (\n<Row className=\"mb-3\">\n  <Col></Col>\n  <Col xs=\"6\">\n    {props.children}\n  </Col>\n  <Col></Col>\n</Row>\n  );\n}\n\nexport default Login\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { WriteMessage } from \"../Layout\";\r\n\r\nclass Error extends React.Component {\r\n\r\n  constructor(props) {\r\n\r\n      super(props);\r\n\r\n      console.log(props);\r\n\r\n      if ( props.id !== undefined ) {\r\n          WriteMessage(props.id);\r\n      } else if ( props.params !== undefined ) {\r\n          var id = props.params.id\r\n          WriteMessage(id);\r\n      }\r\n  }\r\n\r\n  render() {\r\n    return ( <>\r\n    <a href=\"/\">ログインする</a>\r\n</>\r\n  )}\r\n}\r\n\r\nconst withRouter = WrappedComponent => props => {\r\n    const params = useParams();\r\n    return (\r\n      <WrappedComponent\r\n        {...props}\r\n        params={params}\r\n      />\r\n    );\r\n  };\r\n\r\nexport default withRouter(Error);\r\n","import React from 'react';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\n\r\nimport {WriteErrorMessage} from '../../Layout';\r\nimport API from \"../../API\"\r\nimport {ShowDialog} from \"../../Dialog\"\r\n\r\nclass ToDo extends React.Component {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.addText = React.createRef();\r\n\r\n    var todos = [];\r\n    this.state = {\r\n      todos:todos\r\n    }\r\n\r\n    this.add = this.add.bind(this); \r\n    this.del = this.del.bind(this); \r\n  }\r\n  \r\n  componentDidMount() {\r\n    var args = {\r\n    };\r\n    API.post(\"/api/demo/todo/view\",resp => {\r\n      let todos = resp.data.result.todos;\r\n      this.setState({\r\n        todos : todos\r\n      })\r\n    },args).catch((err) => {\r\n      if ( API.isUnknownError(err) ) {\r\n        return;\r\n      }\r\n      WriteErrorMessage(err);\r\n    });\r\n  }\r\n\r\n  add() {\r\n    let val = this.addText.current.value;\r\n    var args = {\r\n      value : val\r\n    };\r\n\r\n    API.post(\"/api/demo/todo/register\",resp => {\r\n      let todos = [...this.state.todos]\r\n      todos.push({ \r\n        id : resp.data.result,\r\n        value : val \r\n      });\r\n      this.setState({\r\n        todos:todos\r\n      });\r\n      this.addText.current.value = \"\";\r\n    },args).catch( (err) => {\r\n      if ( API.isUnknownError(err) ) {\r\n        return;\r\n      }\r\n      WriteErrorMessage(err);\r\n    }) \r\n  }\r\n\r\n  del(id) {\r\n\r\n    var args = {\r\n      id : id\r\n    };\r\n\r\n    let todos = this.state.todos.filter((x) => { return x.id !== id });\r\n    var self = this;\r\n\r\n    ShowDialog(\"タイトル\",\"メッセージ\",function() {\r\n      API.delete(\"/api/demo/todo/delete\",resp => {\r\n        self.setState({\r\n          todos:todos\r\n        });\r\n      },args).catch( (err) => {\r\n        if ( API.isUnknownError(err) ) {\r\n          return;\r\n        }\r\n        WriteErrorMessage(err);\r\n      }) \r\n    });\r\n  }    \r\n\r\n  render() {\r\n    return ( <>\t\r\n\r\n  <Row className=\"justify-content-between d-flex\" style={{ margin : \"2px\"}}>\r\n    <Form.Control type=\"text\" placeholder=\"\" ref={this.addText}/>\r\n    <Button variant=\"primary\" onClick={() => this.add()}>Add</Button>\r\n  </Row>\r\n\r\n  <ListGroup as=\"ol\" style={ {marginTop:\"20px\"} }>\r\n      { this.state.todos.map( ( obj ) => {\r\n        return (\r\n    <ListGroup.Item as=\"li\" className=\"d-flex justify-content-between align-items-start\" key={obj.id}>\r\n      <div className=\"ms-2 me-auto\">\r\n        <div>{obj.value}</div>\r\n      </div>\r\n      <Button variant=\"danger\" onClick={() => this.del(obj.id)}>DELETE</Button>\r\n    </ListGroup.Item>\r\n        )\r\n      } ) }\r\n  </ListGroup>  \r\n\r\n\t</>);\r\n  }\r\n}\r\n\r\nexport default ToDo;","import React from 'react';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport { CookiesProvider } from \"react-cookie\";\nimport { BrowserRouter as Router, Routes,Route } from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./css/Main.css\";\n\nimport Login  from './pages/Login';\nimport Error  from './pages/Error';\nimport Menu   from './pages/Menu';\nimport ToDo   from './pages/Todo/View';\nimport Layout from './Layout';\nimport Authentication from './Authentication';\n\nReactDOM.render(\n  <React.StrictMode>\n    <CookiesProvider> \n      <Authentication />\n      <Layout> \n        <Router>\n          <Routes>\n            <Route path=\"/\"     element={<Login/>} />\n            <Route path=\"/pages/menu\" element={<Menu/>} />\n            <Route path=\"/pages/todo\" element={<ToDo/>} />\n            <Route path=\"/error/:id\" element={<Error />} />\n            <Route path=\"*\" element={<Error id=\"PRFN99M000\"/>} />\n          </Routes>\n        </Router>\n      </Layout>\n    </CookiesProvider> \n  </React.StrictMode>,\n\n  document.getElementById('root')\n);\n\nreportWebVitals();\n","import { useState } from \"react\";\nimport Navbar    from 'react-bootstrap/Navbar';\nimport Container from 'react-bootstrap/Container';\n\nimport {FormattedMessage} from \"react-intl\";\nimport Alert     from 'react-bootstrap/Alert';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\n\nimport Locale from \"./Locale\";\nimport Dialog from \"./Dialog\";\nimport Progress from \"./Progress\";\nimport {LoginPage,Name,Logout} from \"./Authentication\";\n\nimport \"./css/Main.css\"\n\nvar setMessage;\nvar setErrorDetail;\n\nfunction logout() {\n  Logout();\n  global.location.href = \"/error/LogoutID\";\n  return false;\n}\n\nconst Layout =({children}) => {\n\n  const [messageId,messageIdFunc] = useState(\"\");\n  const [detail,detailFunc] = useState(\"\");\n  setMessage = messageIdFunc;\n  setErrorDetail = detailFunc;\n  return (<>\n\n<Locale>\n\n  <Navbar bg=\"light\">\n    <Container>\n      <Navbar.Brand href=\"/pages/menu\">Demo</Navbar.Brand>\n      <LoginPage> \n        <div><Name/><br/>\n          <Button className=\"linkText\" onClick={logout}>ログアウト</Button>\n        </div>\n      </LoginPage>\n    </Container>\n  </Navbar>\n\n  <main>\n    {messageId !== \"\" &&\n      <Alert key=\"1\" variant=\"danger\"> \n        <FormattedMessage id={messageId}/> \n        {detail !== \"\" &&\n\n        <Accordion>\n          <Accordion.Item eventKey=\"0\">\n            <Accordion.Header className=\"Layout-SystemDetail\">\n              <FormattedMessage id=\"PRFN00L000\"/> \n            </Accordion.Header>\n            <Accordion.Body>{detail}</Accordion.Body>\n          </Accordion.Item>\n        </Accordion>\n\n        }\n      </Alert>\n    }\n    {children}\n  </main>\n\n  <Dialog/>\n  <Progress/>\n\n</Locale>\n\n</>)}\n\nexport function ClearMessage() {\n  setMessage(\"\");\n  setErrorDetail(\"\");\n}\n\nexport function UnknownErrorMessage(detail) {\n  let msg = detail;\n  if ( detail !== null && typeof detail === \"object\" ) {\n    msg = JSON.stringify(detail);\n  }\n  setMessage(\"PRFN00M000\");\n  setErrorDetail(msg);\n}\n\nexport function WriteMessage(id) {\n  setMessage(id);\n}\n\nexport function WriteErrorMessage(err) {\n  var resp = err.response;\n  var data = resp.data;\n\n  console.log(data);\n  var id = data.messageID\n  var detail = data.result;\n\n  setMessage(id);\n  if (detail === undefined ) {\n      detail = \"\";\n  }\n  setErrorDetail(detail);\n}\n\nexport default Layout;\n","import React from \"react\";\r\nimport CryptJS from \"crypto-js\";\r\nimport AES from \"crypto-js/aes\";\r\n\r\nimport { instanceOf } from \"prop-types\";\r\nimport { withCookies,Cookies } from \"react-cookie\";\r\n\r\nvar inst;\r\nclass Authentication extends React.Component {\r\n\r\n  static propTypes = {\r\n      cookies : instanceOf(Cookies).isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n\r\n      super(props)\r\n      inst = this;\r\n\r\n      this.noAuthenticationURLs = [\"/\"];\r\n\r\n      const {cookies} = this.props;\r\n      let session = cookies.get(\"session\");\r\n      this.session = this.decode(session);\r\n\r\n      const l = global.location;\r\n      if ( this.session !== undefined ) {\r\n        const l = global.location;\r\n        var now = new Date()\r\n        var ex = new Date(this.session.exiry)\r\n        if ( now <= ex ) {\r\n          //有効期限切れ\r\n          l.href = \"/\";\r\n          return;\r\n        }\r\n      } else {\r\n        if ( !this.noAuth() ) {\r\n          //認証なしでのアクセス\r\n          l.href = \"/\";\r\n          return;\r\n        }\r\n      }\r\n\r\n\r\n  }\r\n\r\n  noAuth() {\r\n    const l = global.location;\r\n    if ( this.noAuthenticationURLs.includes(l.pathname) ) {\r\n        return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  save(obj) {\r\n      const {cookies} = this.props;\r\n      var buf = this.encode(obj)\r\n      cookies.set(\"session\",buf,{path: \"/\"});\r\n  }\r\n\r\n  remove() {\r\n      const {cookies} = this.props;\r\n      cookies.remove(\"session\");\r\n  }\r\n\r\n  decode(buf) {\r\n    if ( buf === undefined || buf === null || buf === \"\" ) {\r\n        return undefined;\r\n    }\r\n    var bytes = AES.decrypt(buf,this.SECRETKEY);\r\n    var obj = JSON.parse(bytes.toString(CryptJS.enc.Utf8));\r\n    return obj;\r\n  }\r\n\r\n  encode(obj) {\r\n    if ( obj === undefined ) {\r\n        return undefined;\r\n    }\r\n    var buf = JSON.stringify(obj);\r\n    var ret = AES.encrypt(buf,this.SECRETKEY);\r\n    return ret.toString();\r\n  }\r\n\r\n  render() {\r\n    return (<></>);\r\n  }\r\n\r\n  SECRETKEY = 'aes-256-cbc-text';\r\n}\r\n\r\nexport function Save(obj) {\r\n    inst.save(obj);\r\n    return true;\r\n}\r\n\r\nexport function CreateJWT() {\r\n    var buf;\r\n    if ( inst.session !== undefined ) {\r\n      buf = inst.encode(inst.session);\r\n    }\r\n    return buf;\r\n}\r\n\r\nexport function Role(props) {\r\n    if ( inst.session !== undefined ) {\r\n        var role = inst.session.role;\r\n        if ( Array.isArray(props.permission) ) {\r\n            if ( props.permission.includes(role) ) {\r\n                return (<>{props.children}</>);\r\n            }\r\n        } else if ( Array.isArray(props.ignore) ) {\r\n            if ( !props.permission.includes(role) ) {\r\n                return (<>{props.children}</>);\r\n            }\r\n        }\r\n    } \r\n    return (<></>)\r\n}\r\n\r\nexport function LoginPage(props) {\r\n    if ( inst.noAuth() ) {\r\n      return (<></>);\r\n    }\r\n    return (<>{props.children}</>);\r\n}\r\n\r\nexport function Logout(props) {\r\n    inst.remove();\r\n    return;\r\n}\r\n\r\nexport function Name() {\r\n    if ( inst.session !== undefined ) {\r\n        return inst.session.name;\r\n    }\r\n    return \"\";\r\n}\r\n\r\nexport default withCookies(Authentication)\r\n","import React from \"react\";\n\nimport Toast from 'react-bootstrap/Toast';\nimport Spinner from 'react-bootstrap/Spinner';\n\nvar inst;\nclass Progress extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            show : false\n        }\n        inst = this;\n    }\n\n    render() {\n      return (<>\n  <Toast className=\"Progress\" show={this.state.show}>\n    <Toast.Body>\n      <strong>Loading...</strong>\n      <Spinner animation=\"border\"/>\n    </Toast.Body>\n  </Toast>\n</>);\n    }\n}\n\nexport function Show() {\n    inst.setState({show:true})\n}\nexport function Hide() {\n    inst.setState({show:false})\n}\n\nexport default Progress;\n","import React from 'react';\nimport {FormattedMessage} from \"react-intl\";\nimport {createIntl, createIntlCache, RawIntlProvider} from 'react-intl';\nimport { instanceOf } from \"prop-types\";\nimport { withCookies,Cookies } from \"react-cookie\";\n\nimport Dropdown  from 'react-bootstrap/Dropdown';\n\nimport ja from './locale-data/ja.json';\nimport en from './locale-data/en.json';\nimport zh from './locale-data/zh.json';\n\nfunction selectMessages(locale) {\n  switch(locale) {\n    case 'en': return en;\n    case 'ja': return ja;\n    case 'zh': return zh;\n    default: return en;\n  }\n}\n\nfunction create(locale) {\n    const cache = createIntlCache()\n    var intl = createIntl({\n      locale,\n      messages: selectMessages(locale)\n    }, cache);\n    return intl;\n}\n\nvar inst;\nfunction changeLanguage(e) {\n  inst.set(e);\n}\n\nclass Locale extends React.Component {\n\n  static propTypes = {\n      cookies : instanceOf(Cookies).isRequired\n  };\n\n  constructor(props) {\n      super(props);\n      inst = this;\n      const { cookies } = this.props;\n      let lang = cookies.get(\"language\");\n      if ( lang == null ) {\n        lang = navigator.language;\n      }\n\n      this.state = {intl:create(lang)};\n  }\n\n  set = (locale) => {\n      this.setState({intl:create(locale)});\n      const { cookies } = this.props;\n      cookies.set('language', locale, { path: '/' });\n  }\n\n  render() {\n    return  (\n      <RawIntlProvider value={this.state.intl}> <> {this.props.children} </> </RawIntlProvider>\n    )\n  }\n}\n\nexport function SelectLanguage() {\n    return (\n<Dropdown onSelect={changeLanguage}>\n  <Dropdown.Toggle variant=\"secondary\" id=\"dropdown-basic\">\n    <FormattedMessage id=\"PRFN00L103\"/>\n  </Dropdown.Toggle>\n          \n  <Dropdown.Menu>\n    <Dropdown.Item eventKey=\"en\">\n      <FormattedMessage id=\"PRFN00L001\"/>\n    </Dropdown.Item>\n    <Dropdown.Item eventKey=\"zh\">\n      <FormattedMessage id=\"PRFN00L002\"/>\n    </Dropdown.Item>\n    <Dropdown.Item eventKey=\"ja\">\n      <FormattedMessage id=\"PRFN00L003\"/>\n    </Dropdown.Item>\n  </Dropdown.Menu>\n</Dropdown>\n);\n}\n\nexport default withCookies(Locale);\n"],"sourceRoot":""}