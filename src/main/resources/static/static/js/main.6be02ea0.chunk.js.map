{"version":3,"sources":["Progress.js","Locale.js","Dialog.js","Encrypt.js","Util.js","Layout.js","API.js","pages/Login.js","pages/Message.js","pages/Menu.js","pages/Todo/View.js","pages/components/Select.js","pages/components/DateTime.js","pages/DateTime/View.js","reportWebVitals.js","index.js","Authentication.js"],"names":["inst","Progress","props","state","show","className","this","Body","animation","React","Component","Show","setState","Hide","selectMessages","locale","en","ja","zh","create","cache","createIntlCache","createIntl","messages","changeLanguage","e","set","Locale","intl","cookies","path","lang","get","navigator","language","value","children","SelectLanguage","onSelect","Toggle","variant","id","Menu","Item","eventKey","withCookies","ShowDialog","title","message","fn","handleShow","Dialog","okHandle","handleClose","handleYes","render","onHide","Header","closeButton","Title","Footer","undefined","onClick","Encrypt","buf","bytes","AES","decrypt","SECRETKEY","JSON","parse","toString","CryptJS","enc","Utf8","obj","stringify","encrypt","Util","pattern","v","strs","split","length","idx","i","key","p","indexOf","val","patterns","Array","isArray","matchStringGlob","setMessage","setMessageType","setErrorDetail","logout","Logout","Redirect","global","location","href","process","ClearMessage","UnknownErrorMessage","detail","msg","WriteMessage","type","WriteErrorMessage","err","data","response","messageID","result","withRouter","WrappedComponent","params","useParams","Layout","useState","messageId","messageIdFunc","messageType","messageTypeFunc","detailFunc","bg","Brand","API","jwt","CreateJWT","axios","headers","timeout","url","callback","caller","method","createInstance","ctx","request","then","catch","error","Promise","reject","finally","resp","SpaceRow","Row","Col","xs","Login","handleLoginClick","userId","current","password","post","Save","user","isUnknownError","status","expiry","msgId","handleUpdateClick","new1","newPassword1","newPassword2","oldPassword","newPassword","put","console","log","createRef","Form","Container","Group","Label","Control","placeholder","ref","Alert","Button","Message","to","handle","gotoDate","gotoToDo","Card","Text","permission","ToDo","addText","todos","add","bind","del","args","ExtendRefresh","push","filter","x","self","delete","style","margin","ListGroup","as","marginTop","map","Select","handleChange","target","selectedIndex","options","onChange","vals","values","clazz","defaultValue","empty","text","DateTime","showDay","showTime","step","t","parseInt","day","hour","minute","Date","getHours","getMinutes","rtn","getFullYear","getMonth","getDate","hours","minutes","dateFormat","customInput","selected","date","handleDay","h","handleHour","m","handleMinute","DateView","d","dt","datetime","time","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","CookiesProvider","basename","element","document","getElementById","noAuthenticationURLs","Authentication","urls","session","decode","exiry","isAuthPage","refreshReload","refreshTimer","clearTimeout","setTimeout","Package","clientExpiry","pathname","match","encode","remove","save","Role","role","includes","ignore","LoginPage","Name","name"],"mappings":"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","file":"static/js/main.6be02ea0.chunk.js","sourcesContent":["import React from \"react\";\n\nimport Toast from 'react-bootstrap/Toast';\nimport Spinner from 'react-bootstrap/Spinner';\n\nvar inst;\nclass Progress extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            show : false\n        }\n        inst = this;\n    }\n\n    render() {\n      return (<>\n  <Toast className=\"Progress\" show={this.state.show}>\n    <Toast.Body>\n      <strong>Loading...</strong>\n      <Spinner animation=\"border\"/>\n    </Toast.Body>\n  </Toast>\n</>);\n    }\n}\n\nexport function Show() {\n    inst.setState({show:true})\n}\nexport function Hide() {\n    inst.setState({show:false})\n}\n\nexport default Progress;\n","import React from 'react';\nimport {FormattedMessage} from \"react-intl\";\nimport {createIntl, createIntlCache, RawIntlProvider} from 'react-intl';\nimport { instanceOf } from \"prop-types\";\nimport { withCookies,Cookies } from \"react-cookie\";\n\nimport Dropdown  from 'react-bootstrap/Dropdown';\n\nimport ja from './locale-data/ja.json';\nimport en from './locale-data/en.json';\nimport zh from './locale-data/zh.json';\n\nfunction selectMessages(locale) {\n  switch(locale) {\n    case 'en': return en;\n    case 'ja': return ja;\n    case 'zh': return zh;\n    default: return en;\n  }\n}\n\nfunction create(locale) {\n    const cache = createIntlCache()\n    var intl = createIntl({\n      locale,\n      messages: selectMessages(locale)\n    }, cache);\n    return intl;\n}\n\nvar inst;\nfunction changeLanguage(e) {\n  inst.set(e);\n}\n\nexport class Locale extends React.Component {\n\n  static propTypes = {\n      cookies : instanceOf(Cookies).isRequired\n  };\n\n  constructor(props) {\n\n      super(props);\n\n      inst = this;\n      const { cookies } = this.props;\n      let lang = cookies.get(\"language\");\n      if ( lang == null ) {\n        lang = navigator.language;\n      }\n\n      this.state = {intl:create(lang)};\n  }\n\n  set = (locale) => {\n      this.setState({intl:create(locale)});\n      const { cookies } = this.props;\n      cookies.set('language', locale, { path: '/' });\n  }\n\n  render() {\n    return  (\n      <RawIntlProvider value={this.state.intl}> <> {this.props.children} </> </RawIntlProvider>\n    )\n  }\n}\n\nexport function SelectLanguage() {\n\n    return (\n<Dropdown onSelect={changeLanguage}>\n  <Dropdown.Toggle variant=\"secondary\" id=\"dropdown-basic\">\n    <FormattedMessage id=\"PRFN00L103\"/>\n  </Dropdown.Toggle>\n          \n  <Dropdown.Menu>\n    <Dropdown.Item eventKey=\"en\">\n      <FormattedMessage id=\"PRFN00L001\"/>\n    </Dropdown.Item>\n    <Dropdown.Item eventKey=\"zh\">\n      <FormattedMessage id=\"PRFN00L002\"/>\n    </Dropdown.Item>\n    <Dropdown.Item eventKey=\"ja\">\n      <FormattedMessage id=\"PRFN00L003\"/>\n    </Dropdown.Item>\n  </Dropdown.Menu>\n</Dropdown>\n\n);\n}\n\nexport default withCookies(Locale);\n","import React from \"react\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\nvar inst;\r\n\r\nexport function ShowDialog(title,message,fn) {\r\n\tinst.handleShow(title,message,fn);\r\n}\r\n\r\nclass Dialog extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tinst = this;\r\n\t\tthis.state = {\r\n\t\t\tshow : false,\r\n\t\t\tokHandle:undefined\r\n\t\t}\r\n\t}\r\n\r\n\thandleShow = (title,message,fn) => {\r\n\t\tthis.setState({\r\n\t\t\ttitle:title,\r\n\t\t\tmessage:message,\r\n\t\t\tshow:true,\r\n\t\t\tokHandle:fn\r\n\t\t});\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({show:false})\r\n\t}\r\n\r\n\thandleYes = () => {\r\n\t\tthis.state.okHandle();\r\n\t\tthis.handleClose();\r\n\t}\r\n\r\n\trender = () => {\r\n\t  return (<>\r\n<Modal show={this.state.show} onHide={this.handleClose}>\r\n  <Modal.Header closeButton>\r\n\t  <Modal.Title>{this.state.title}</Modal.Title>\r\n  </Modal.Header>\r\n\t  <Modal.Body>{this.state.message}</Modal.Body>\r\n  <Modal.Footer>\r\n\r\n\t{ this.state.okHandle === undefined &&\r\n    <Button variant=\"secondary\" onClick={this.handleClose}>\r\n\t\tとじる\r\n    </Button>\r\n\t}\t\r\n\r\n\t{ this.state.okHandle !== undefined &&\r\n\t<>\r\n    <Button variant=\"secondary\" onClick={this.handleClose}>\r\n\t\tいいえ\r\n    </Button>\r\n    <Button variant=\"primary\" onClick={this.handleYes}>\r\n\t\tはい\r\n    </Button>\r\n\t</>\r\n\t}\r\n  </Modal.Footer>\r\n</Modal>\r\n\t\t</>\r\n\t)\r\n  }\r\n}  \r\n\r\nexport default Dialog;","import AES from \"crypto-js/aes\";\r\nimport CryptJS from \"crypto-js\";\r\n\r\nclass Encrypt {\r\n    static SECRETKEY = 'aes-256-cbc-text';\r\n    static decode(buf) {\r\n        if ( buf === undefined || buf === null || buf === \"\" ) {\r\n            return undefined;\r\n        }\r\n        var bytes = AES.decrypt(buf,this.SECRETKEY);\r\n        var obj = JSON.parse(bytes.toString(CryptJS.enc.Utf8));\r\n        return obj;\r\n    }\r\n    static encode(obj) {\r\n        if ( obj === undefined ) {\r\n            return undefined;\r\n        }\r\n        var buf = JSON.stringify(obj);\r\n        var ret = AES.encrypt(buf,this.SECRETKEY);\r\n        return ret.toString();\r\n    }\r\n}\r\n\r\nexport default Encrypt;","class Util {\r\n  //文字列のGlob判定(*のみ)\r\n  static matchStringGlob(pattern,v) {\r\n\r\n    let strs = pattern.split(\"*\")\r\n\r\n    if ( strs.length === 1 ) {\r\n      if ( pattern === v ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\n    let idx = 0;\r\n    for (let i = 0; i < strs.length; i++ ) {\r\n      let key = strs[i];\r\n      if ( key === \"\" ) {\r\n        continue;\r\n      }\r\n      let p = v.indexOf(key);\r\n      if ( idx <= p ) {\r\n        idx = p + key.length;\r\n      } else {\r\n          return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  // patternsからvalが存在するかを判定\r\n  static match(val,patterns) {\r\n\r\n    if ( !Array.isArray(patterns) ) {\r\n        return undefined;\r\n    }\r\n\r\n    for (let i = 0; i < patterns.length; i++ ) {\r\n      let key = patterns[i];\r\n      if ( this.matchStringGlob(key,val) ) {\r\n          return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n}\r\n\r\nexport default Util;","import { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  Container,Navbar,\n  Alert,Accordion,Button\n} from 'react-bootstrap';\nimport {FormattedMessage} from \"react-intl\";\n\nimport Locale from \"./Locale\";\nimport Authentication from \"./Authentication\";\nimport Dialog from \"./Dialog\";\nimport Progress from \"./Progress\";\nimport {LoginPage,Name,Logout} from \"./Authentication\";\n\nimport \"./css/Main.css\"\n\nvar setMessage;\nvar setMessageType;\nvar setErrorDetail;\n\nfunction logout() {\n  Logout();\n  return false;\n}\n\nconst Layout =({children}) => {\n\n  const [messageId,messageIdFunc] = useState(\"\");\n  const [messageType,messageTypeFunc] = useState(\"danger\");\n  const [detail,detailFunc] = useState(\"\");\n  setMessage = messageIdFunc;\n  setMessageType = messageTypeFunc;\n  setErrorDetail = detailFunc;\n\n  return (<>\n<Authentication />\n<Locale>\n\n  <Navbar bg=\"light\">\n    <Container>\n      <Navbar.Brand href={process.env.PUBLIC_URL + \"/pages/menu\"}>Demo</Navbar.Brand>\n      <LoginPage> \n        <div><Name/><br/>\n          <Button className=\"linkText\" onClick={logout}>ログアウト</Button>\n        </div>\n      </LoginPage>\n    </Container>\n  </Navbar>\n\n  <main>\n    {messageId !== \"\" &&\n      <Alert key=\"1\" variant={messageType}> \n        <FormattedMessage id={messageId}/> \n        {detail !== \"\" &&\n\n        <Accordion>\n          <Accordion.Item eventKey=\"0\">\n            <Accordion.Header className=\"Layout-SystemDetail\">\n              <FormattedMessage id=\"PRFN00L000\"/> \n            </Accordion.Header>\n            <Accordion.Body>{detail}</Accordion.Body>\n          </Accordion.Item>\n        </Accordion>\n\n        }\n      </Alert>\n    }\n    {children}\n  </main>\n\n  <Dialog/>\n  <Progress/>\n\n</Locale>\n\n</>)}\n\nexport function Redirect(path) {\n  const l = global.location;\n  l.href = process.env.PUBLIC_URL + path;\n}\n\nexport function ClearMessage() {\n  setMessage(\"\");\n  setMessageType(\"danger\");\n  setErrorDetail(\"\");\n}\n\nexport function UnknownErrorMessage(detail) {\n  let msg = detail;\n  if ( detail !== null && typeof detail === \"object\" ) {\n    msg = JSON.stringify(detail);\n  }\n  setMessage(\"PRFN00M000\");\n  setMessageType(\"danger\");\n  setErrorDetail(msg);\n}\n\nexport function WriteMessage(id,type) {\n  setMessageType(type);\n  setMessage(id);\n}\n\nexport function WriteErrorMessage(err) {\n\n  var resp = err.response;\n  var data = resp.data;\n\n  var id = data.messageID\n  var detail = data.result;\n\n  setMessageType(\"danger\");\n  setMessage(id);\n  if (detail === undefined ) {\n      detail = \"\";\n  }\n  setErrorDetail(detail);\n}\n\nexport const withRouter = WrappedComponent => props => {\n    const params = useParams();\n    return (\n      <WrappedComponent\n        {...props}\n        params={params}\n      />\n    );\n  };\n\nexport default Layout;\n","import axios from 'axios';\nimport {CreateJWT} from \"./Authentication\";\nimport {Show,Hide} from \"./Progress\";\nimport {UnknownErrorMessage}  from \"./Layout\";\n\nclass API {\n\n  static createInstance() {\n    var jwt = CreateJWT();\n    const instance = axios.create({\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization' : jwt\n      }, timeout: 10000,\n    });\n\n    return instance;\n  }\n\n  static async post(url, callback, data) {\n    return await this.caller(\"POST\",url,callback,data);\n  }\n\n  static async put(url, callback, data) {\n    return await this.caller(\"PUT\",url,callback,data);\n  }\n\n  static async delete(url, callback, data) {\n    return await this.caller(\"DELETE\",url,callback,data);\n  }\n   \n  static async caller(method,url, callback, data) {\n\n    let inst = this.createInstance();\n    Show();\n\n    var ctx = process.env.PUBLIC_URL + url;\n    return await inst.request({\n      method : method, url : ctx, data : data}).then(response => {\n        return callback(response)\n      }).catch( (error) => {\n        return Promise.reject(error)\n      }).finally( () => {\n        Hide();\n      });\n  }\n\n  static isUnknownError(err) {\n    if ( err !== undefined ) {\n      var resp = err.response;\n      if ( resp !== undefined ) {\n        var data = resp.data;\n        if ( data.messageID !== undefined ) {\n          return false;\n        }\n      }\n    }\n\n    UnknownErrorMessage(err);\n    return true;\n  }\n}\nexport default API\n","import React from \"react\";\nimport {FormattedMessage} from \"react-intl\";\nimport {\n  Container,Row,Col,\n  Alert,Form,Button\n } from 'react-bootstrap';\n\nimport {SelectLanguage} from '../Locale';\nimport {WriteErrorMessage,ClearMessage,Redirect}  from \"../Layout\";\nimport {Save} from \"../Authentication\";\nimport API from \"../API\";\n\nclass Login extends React.Component {\n\n  constructor(props) {\n\n      super(props);\n\n      this.userId = React.createRef(); \n      this.password = React.createRef(); \n      this.oldPassword = React.createRef(); \n      this.newPassword1 = React.createRef(); \n      this.newPassword2 = React.createRef(); \n\n      this.state = { expiry : false, messageId : \"\" }\n      ClearMessage();\n  }\n\n\n  handleLoginClick = (e) => {\n\n    ClearMessage();\n\n    let data = {\n        id : this.userId.current.value,\n        password : this.password.current.value\n    }\n\n    API.post(\"/api/v1/login\",\n      resp => {\n        Save(resp.data.result.user);\n        Redirect('/pages/menu');\n    },data).catch( (err) => {\n\n      if ( API.isUnknownError(err) ) {\n        return;\n      }\n\n      let resp = err.response;\n      let result = resp.data;\n      switch ( resp.status ) {\n        case 401:\n          let expiry = false;\n          let msgId = result.messageID;\n          if ( msgId === \"PRFN00M102\" ) {\n             expiry = true\n          }\n          this.setState({ expiry : expiry, messageId : msgId });\n          break;\n        default:\n          WriteErrorMessage(err);\n          break;\n      }\n    });\n\n    return false;\n  }\n\n  handleUpdateClick = (e) => {\n\n    let new1 = this.newPassword1.current.value;\n    let new2 = this.newPassword2.current.value;\n\n    if ( new1 !== new2 ) {\n        this.setState({ messageId : \"PRFN00M201\" });\n        return;\n    }\n\n    this.setState({ messageId : \"\" });\n    let data = {\n        userId      : this.userId.current.value,\n        oldPassword : this.oldPassword.current.value,\n        newPassword : new1\n    }\n\n    API.put(\"/api/v1/password\",\n      resp => {\n        console.log(resp.data);\n        Redirect('/pages/menu');\n    },data).catch( (err) => {\n      if ( API.isUnknownError(err) ) {\n        return;\n      }\n      WriteErrorMessage(err);\n    });\n\n    return false;\n  }\n\n  render() {\n\n    const expiry = this.state.expiry;\n    const msgId = this.state.messageId;\n\n    return ( <>\n\n<Form>\n  <Container>\n    <SpaceRow>\n      <Form.Group>\n        <Form.Label> <FormattedMessage id=\"PRFN00L101\"/> </Form.Label>\n        <Form.Control type=\"email\" placeholder=\"\" ref={this.userId} />\n      </Form.Group>\n    </SpaceRow>\n\n    <SpaceRow>\n      <Form.Group>\n        <Form.Label> <FormattedMessage id=\"PRFN00L102\"/> </Form.Label>\n        <Form.Control type=\"password\" placeholder=\"\" ref={this.password} />\n      </Form.Group>\n    </SpaceRow>\n\n    <SpaceRow>\n      <SelectLanguage />\n    </SpaceRow>\n\n    {/*メッセージ表示 */}\n    {msgId !== \"\" &&\n    <SpaceRow>\n      <Alert key=\"1\" variant=\"danger\"> <FormattedMessage id={msgId}/> </Alert>\n    </SpaceRow>\n    }\n\n    {/* ログインボタン */}\n    {!expiry &&\n    <SpaceRow>\n      <Button variant=\"primary\" onClick={this.handleLoginClick}> \n        <FormattedMessage id=\"PRFN00L104\"/>\n      </Button>\n    </SpaceRow>\n    }\n\n    {/* 有効期限フォーム */}\n    {expiry &&\n<>\n    <SpaceRow>\n      <Form.Group>\n        <Form.Label> <FormattedMessage id=\"PRFN00L201\"/> </Form.Label>\n        <Form.Control type=\"password\" placeholder=\"Password\" ref={this.oldPassword} />\n      </Form.Group>\n    </SpaceRow>\n\n    <SpaceRow>\n      <Form.Group>\n        <Form.Label> <FormattedMessage id=\"PRFN00L202\"/> </Form.Label>\n        <Form.Control type=\"password\" placeholder=\"Password\" ref={this.newPassword1} />\n      </Form.Group>\n    </SpaceRow>\n\n    <SpaceRow>\n      <Form.Group>\n        <Form.Label> <FormattedMessage id=\"PRFN00L203\"/> </Form.Label>\n        <Form.Control type=\"password\" placeholder=\"Password\" ref={this.newPassword2} />\n      </Form.Group>\n    </SpaceRow>\n\n    <SpaceRow>\n      <Button variant=\"primary\" onClick={this.handleUpdateClick}> \n        <FormattedMessage id=\"PRFN00L204\"/>\n      </Button>\n    </SpaceRow>\n</>\n    }\n\n  </Container>\n\n</Form>\n\n</>);\n  }\n}\n\nfunction SpaceRow(props) {\n  return (\n<Row className=\"mb-3\">\n  <Col></Col>\n  <Col xs=\"6\">\n    {props.children}\n  </Col>\n  <Col></Col>\n</Row>\n  );\n}\n\nexport default Login\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { withRouter,WriteMessage } from \"../Layout\";\r\n\r\nclass Message extends React.Component {\r\n\r\n  constructor(props) {\r\n      super(props);\r\n      if ( props.id !== undefined ) {\r\n          WriteMessage(props.id,props.type);\r\n      } else if ( props.params !== undefined ) {\r\n          var id = props.params.id\r\n          WriteMessage(id,props.type);\r\n      }\r\n  }\r\n\r\n  render() {\r\n    return ( <>\r\n    <Link to=\"/\">ログインする</Link>\r\n</>\r\n  )}\r\n}\r\n\r\nexport default withRouter(Message);\r\n","import React from \"react\";\nimport { \n  Container,\n  Card,Row,Col,Button\n} from \"react-bootstrap\";\n\nimport {Role} from \"../Authentication\";\nimport {Redirect} from \"../Layout\";\n\nimport \"../css/Main.css\";\n\nclass Menu extends React.Component {\n\n  handle = () => {\n      return false;\n  }\n\n  gotoDate = () => {\n    Redirect(\"/pages/date/\");\n    return;\n  }\n\n  gotoToDo = () => {\n    Redirect(\"/pages/todo/\");\n    return;\n  }\n\n  render() {\n    return (<>\n\n<Container>\n  <Row>\n    <Col>\n      <Card className=\"Menu-Card\">\n        <Card.Body>\n          <Card.Title>Sample TODO</Card.Title>\n          <Card.Text> \n            Card Text\n          </Card.Text>\n\n          <Button variant=\"primary\" onClick={this.gotoToDo}>Go SampleToDo </Button>\n\n        </Card.Body>\n      </Card>\n    </Col>\n\n    <Col>\n      <Card className=\"Menu-Card\">\n        <Card.Body>\n          <Card.Title>Sample Date</Card.Title>\n          <Card.Text> \n          </Card.Text>\n          <Button variant=\"primary\" onClick={this.gotoDate}>Go Sample Date </Button>\n        </Card.Body>\n      </Card>\n    </Col>\n\n    <Role permission={[\"admin\"]}>\n      <Col>\n      <Card className=\"Menu-Card\">\n        <Card.Body>\n          <Card.Title>Function Admin</Card.Title>\n          <Card.Text> \n          </Card.Text>\n          <Button variant=\"primary\">Go C</Button>\n        </Card.Body>\n      </Card>\n    </Col>\n    </Role>\n\n  </Row>\n</Container>\n\n</>)};\n}\n\nexport default Menu;\n","import React from 'react';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\n\r\nimport {WriteErrorMessage} from '../../Layout';\r\nimport {ExtendRefresh} from '../../Authentication';\r\nimport API from \"../../API\"\r\nimport {ShowDialog} from \"../../Dialog\"\r\n\r\nclass ToDo extends React.Component {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.addText = React.createRef();\r\n\r\n    var todos = [];\r\n    this.state = {\r\n      todos:todos\r\n    }\r\n\r\n    this.add = this.add.bind(this); \r\n    this.del = this.del.bind(this); \r\n  }\r\n  \r\n  componentDidMount() {\r\n    var args = {\r\n    };\r\n    API.post(\"/api/demo/todo/view\",resp => {\r\n      let todos = resp.data.result.todos;\r\n      this.setState({\r\n        todos : todos\r\n      })\r\n    },args).catch((err) => {\r\n      if ( API.isUnknownError(err) ) {\r\n        return;\r\n      }\r\n      WriteErrorMessage(err);\r\n    });\r\n  }\r\n\r\n  add() {\r\n    let val = this.addText.current.value;\r\n    var args = {\r\n      value : val\r\n    };\r\n\r\n    ExtendRefresh();\r\n\r\n    API.post(\"/api/demo/todo/register\",resp => {\r\n      let todos = [...this.state.todos]\r\n      todos.push({ \r\n        id : resp.data.result,\r\n        value : val \r\n      });\r\n      this.setState({\r\n        todos:todos\r\n      });\r\n      this.addText.current.value = \"\";\r\n    },args).catch( (err) => {\r\n      if ( API.isUnknownError(err) ) {\r\n        return;\r\n      }\r\n      WriteErrorMessage(err);\r\n    }) \r\n  }\r\n\r\n  del(id) {\r\n\r\n    ExtendRefresh();\r\n\r\n    var args = {\r\n      id : id\r\n    };\r\n\r\n    let todos = this.state.todos.filter((x) => { return x.id !== id });\r\n    var self = this;\r\n\r\n    ShowDialog(\"タイトル\",\"メッセージ\",function() {\r\n      API.delete(\"/api/demo/todo/delete\",resp => {\r\n        self.setState({\r\n          todos:todos\r\n        });\r\n      },args).catch( (err) => {\r\n        if ( API.isUnknownError(err) ) {\r\n          return;\r\n        }\r\n        WriteErrorMessage(err);\r\n      }) \r\n    });\r\n  }    \r\n\r\n  render() {\r\n    return ( <>\t\r\n\r\n  <Row className=\"justify-content-between d-flex\" style={{ margin : \"2px\"}}>\r\n    <Form.Control type=\"text\" placeholder=\"\" ref={this.addText}/>\r\n    <Button variant=\"primary\" onClick={() => this.add()}>Add</Button>\r\n  </Row>\r\n\r\n  <ListGroup as=\"ol\" style={ {marginTop:\"20px\"} }>\r\n      { this.state.todos.map( ( obj ) => {\r\n        return (\r\n    <ListGroup.Item as=\"li\" className=\"d-flex justify-content-between align-items-start\" key={obj.id}>\r\n      <div className=\"ms-2 me-auto\">\r\n        <div>{obj.value}</div>\r\n      </div>\r\n      <Button variant=\"danger\" onClick={() => this.del(obj.id)}>DELETE</Button>\r\n    </ListGroup.Item>\r\n        )\r\n      } ) }\r\n  </ListGroup>  \r\n\r\n\t</>);\r\n  }\r\n}\r\n\r\nexport default ToDo;","import React from \"react\";\r\n\r\nclass Select extends React.Component  {\r\n\r\n    handleChange = (e) => {\r\n        var idx = e.target.selectedIndex;\r\n        var val = e.target.options[idx];\r\n        this.props.onChange(val.value);\r\n    }\r\n\r\n    render() {\r\n\r\n        let vals = this.props.values;\r\n        if ( vals === undefined || vals === null ) {\r\n            vals = [];\r\n        }\r\n\r\n        let clazz = \"form-select\";\r\n        if ( this.props.className !== undefined ) {\r\n            clazz += \" \" + this.props.className;\r\n        }\r\n\r\n        if ( !Array.isArray(vals) ) {\r\n            return (<>\r\n            SelectTag values is not array\r\n            </>)\r\n        }\r\n\r\n        return (<>\r\n          <select \r\n            className={clazz} \r\n            defaultValue={this.props.value} \r\n            onChange={this.handleChange}>\r\n              { this.props.empty &&\r\n                <option value=\"\"></option>\r\n              }\r\n              { vals.map( (text,key)  => {\r\n                return <option value={key} key={key}>{text}</option>\r\n              })}\r\n          </select>\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default Select;","import React from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\n\r\nimport { Form } from \"react-bootstrap\";\r\nimport Select from \"./Select\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport \"../../css/Main.css\";\r\n\r\nclass DateTime extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let showDay = true;\r\n        let showTime = true;\r\n        this.step = 1;\r\n        this.empty = false;\r\n\r\n        var t = props.type;\r\n        if ( t !== undefined ) {\r\n            if ( t === \"date\" ) {\r\n                showTime = false;\r\n            } else if ( t === \"time\" ) {\r\n                showDay = false;\r\n            }\r\n        }\r\n\r\n        if ( props.step !== undefined ) {\r\n            this.step = parseInt(props.step);\r\n        }\r\n\r\n        var day = null;\r\n        var hour = 0;\r\n        var minute = 0;\r\n        if ( props.value !== undefined ) {\r\n            day = new Date(props.value);\r\n            //day = new Date();\r\n            hour = day.getHours();\r\n            minute = day.getMinutes();\r\n        } else {\r\n            if ( props.empty !== undefined ) {\r\n                this.empty = true;\r\n                hour = \"\";\r\n                minute = \"\";\r\n            }\r\n        }\r\n\r\n        this.state = {\r\n            hour : hour,\r\n            minute : minute,\r\n            day : day,\r\n            showDay: showDay,\r\n            showTime: showTime\r\n        }\r\n    }\r\n\r\n    handleDay(day) {\r\n        this.setState({\r\n            day : day\r\n        })\r\n    }\r\n\r\n    handleHour(hour) {\r\n        this.setState({\r\n            hour : hour\r\n        })\r\n    }\r\n\r\n    handleMinute(minute) {\r\n        this.setState({\r\n            minute : minute\r\n        })\r\n    }\r\n\r\n    get() {\r\n        let rtn = \"\";\r\n        let day = this.state.day;\r\n        let hour = this.state.hour;\r\n        let minute = this.state.minute;\r\n\r\n        if ( this.state.showDay ) {\r\n            if ( day != null ) {\r\n                rtn = day.getFullYear() +\"/\" + (day.getMonth()+1) + \"/\"+day.getDate();\r\n            } else {\r\n                return undefined;\r\n            }\r\n        }\r\n\r\n        if ( this.state.showTime ) {\r\n            if ( rtn !== \"\" ) {\r\n                rtn += \" \";\r\n            }\r\n            if ( this.empty ) {\r\n                if ( hour === \"\" || minute === \"\" ) {\r\n                    if ( hour !== \"\" || minute !== \"\" ) {\r\n                        if ( rtn === \"\" ) return null;\r\n                        return undefined;\r\n                    }\r\n                }\r\n            }\r\n\r\n            rtn += hour;\r\n            rtn += \":\" + minute;\r\n        }\r\n\r\n        return rtn;\r\n    }\r\n\r\n    render() {\r\n        let hours = []\r\n        for ( let i = 0; i < 24; ++i ) {\r\n            hours[i] = i;\r\n        }\r\n\r\n        let minutes = []\r\n        for ( let i = 0; i < 60; i = i + this.step ) {\r\n            minutes[i] = i;\r\n        }\r\n\r\n        return (\r\n            <>\r\n              <div className=\"DateTime\">\r\n              {this.state.showDay && \r\n                <DatePicker \r\n                  dateFormat=\"yyyy/MM/dd\"\r\n                  customInput={\r\n                    <Form.Control type=\"text\" />\r\n                  }\r\n                  selected={this.state.day}\r\n                  onChange={(date) => this.handleDay(date)}\r\n                /> \r\n              }\r\n\r\n              {this.state.showTime && \r\n                <>\r\n                  <Select values={hours}   className=\"DateTime-Hour\"   value={this.state.hour} empty={this.empty} onChange={ (h)=> this.handleHour(h)}/>\r\n                  <Select values={minutes} className=\"DateTime-Minute\" value={this.state.minute} empty={this.empty} onChange={ (m)=> this.handleMinute(m)}/>\r\n                </>\r\n              }\r\n              </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DateTime;","import React, { createRef } from \"react\";\r\n\r\nimport {Button,Container} from \"react-bootstrap\";\r\nimport DateTime from \"../components/DateTime\";\r\n\r\nclass DateView extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.date = createRef();\r\n        this.datetime = createRef();\r\n        this.time = createRef();\r\n    }\r\n\r\n    show = () => {\r\n        var d = this.date.current;\r\n        var dt = this.datetime.current;\r\n        var t = this.time.current;\r\n        console.log(d.get())\r\n        console.log(t.get())\r\n        console.log(dt.get())\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <Container>\r\n        日付のみ\r\n          <br/>\r\n          <DateTime type=\"date\" ref={this.date} value={new Date().toString()}/>\r\n          <br/>\r\n        時刻のみ\r\n          <br/>\r\n          <DateTime type=\"time\" ref={this.time} step=\"10\" value=\"0 10:10\"/>\r\n          <br/>\r\n          両方\r\n          <br/>\r\n          <DateTime type=\"datetime\" ref={this.datetime} empty=\"true\"/>\r\n          <br/>\r\n          <br/>\r\n          <Button onClick={this.show}>Val</Button>\r\n        </Container>\r\n    )}\r\n}\r\n\r\nexport default DateView;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CookiesProvider } from \"react-cookie\";\nimport { BrowserRouter as Router, Routes,Route,Navigate } from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./css/Main.css\";\n\nimport Login    from './pages/Login';\nimport Message  from './pages/Message';\nimport Menu     from './pages/Menu';\nimport ToDo     from './pages/Todo/View';\nimport DateView from './pages/DateTime/View';\n\nimport Layout   from './Layout';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <CookiesProvider> \n      <Layout> \n        <Router basename={process.env.PUBLIC_URL}>\n          <Routes>\n            <Route path=\"/\"     element={<Login/>} />\n            <Route path=\"/pages/menu\" element={<Menu/>} />\n            <Route path=\"/pages/todo/\" element={<ToDo/>} />\n            <Route path=\"/pages/date/\" element={<DateView/>} />\n            <Route path=\"/message/:id\" element={<Message type=\"success\" />} />\n            <Route path=\"/error/:id\" element={<Message type=\"danger\" />} />\n            <Route path=\"*\" element={<Navigate to=\"/error/PRFN98M000\"/>} />\n          </Routes>\n        </Router>\n      </Layout>\n    </CookiesProvider> \n  </React.StrictMode>,\n\n  document.getElementById('root')\n);\n\nreportWebVitals();\n","import React from \"react\";\r\n\r\nimport { instanceOf } from \"prop-types\";\r\nimport { withCookies,Cookies } from \"react-cookie\";\r\n\r\nimport { Redirect } from \"./Layout\";\r\nimport Package from \"../package.json\";\r\nimport Encrypt from \"./Encrypt\";\r\nimport Util from \"./Util\";\r\n\r\nconst noAuthenticationURLs = [\"/\",\"/error/*\",\"/message/*\"];\r\n\r\nvar inst;\r\nclass Authentication extends React.Component {\r\n\r\n  static propTypes = {\r\n      cookies : instanceOf(Cookies).isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n\r\n      super(props)\r\n      inst = this;\r\n\r\n      this.urls = [];\r\n      noAuthenticationURLs.map( (v) => {\r\n        this.urls.push(process.env.PUBLIC_URL + v);\r\n      })\r\n\r\n      const {cookies} = this.props;\r\n      let session = cookies.get(\"session\");\r\n      this.session = Encrypt.decode(session);\r\n\r\n      if ( this.session !== undefined ) {\r\n        var now = new Date()\r\n        var ex = new Date(this.session.exiry)\r\n        if ( now <= ex ) {\r\n          //TODO アプリに依存する為、書き方を変更\r\n          //有効期限切れ\r\n          Redirect(\"/message/Logout\");\r\n          return;\r\n        }\r\n      } else {\r\n        if ( this.isAuthPage() ) {\r\n          //認証なしでのアクセス\r\n          Redirect(\"/message/Logout\");\r\n          return;\r\n        }\r\n      }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n      this.refreshReload = undefined;\r\n      this.refreshTimer();\r\n  }\r\n\r\n  refreshTimer() {\r\n    if ( !this.isAuthPage() ) {\r\n      return;\r\n    }\r\n    if ( this.refreshReload !== undefined ) {\r\n      clearTimeout(this.refreshReload);\r\n    }\r\n    this.refreshReload = setTimeout(function() {\r\n      Redirect(\"/message/logout\")\r\n    },1000 * Package.clientExpiry);\r\n  }\r\n\r\n  isAuthPage() {\r\n    const l = global.location;\r\n    let path = l.pathname;\r\n    return !Util.match(path,this.urls);\r\n  }\r\n\r\n  save(obj) {\r\n      const {cookies} = this.props;\r\n      var buf = Encrypt.encode(obj);\r\n      cookies.set(\"session\",buf,{path: \"/\"});\r\n  }\r\n\r\n  remove() {\r\n      const {cookies} = this.props;\r\n      cookies.remove(\"session\");\r\n  }\r\n\r\n  render() {\r\n    return (<></>);\r\n  }\r\n}\r\n\r\nexport function ExtendRefresh() {\r\n  inst.refreshTimer();\r\n}\r\n\r\nexport function Save(obj) {\r\n    inst.save(obj);\r\n    return true;\r\n}\r\n\r\nexport function CreateJWT() {\r\n    if ( inst.session !== undefined ) {\r\n      return Encrypt.encode(inst.session);\r\n    }\r\n    return \"\";\r\n}\r\n\r\nexport function Role(props) {\r\n    if ( inst.session !== undefined ) {\r\n        var role = inst.session.role;\r\n        if ( Array.isArray(props.permission) ) {\r\n            if ( props.permission.includes(role) ) {\r\n                return (<>{props.children}</>);\r\n            }\r\n        } else if ( Array.isArray(props.ignore) ) {\r\n            if ( !props.permission.includes(role) ) {\r\n                return (<>{props.children}</>);\r\n            }\r\n        }\r\n    } \r\n    return (<></>)\r\n}\r\n\r\nexport function LoginPage(props) {\r\n    if ( !inst.isAuthPage() ) {\r\n      return (<></>);\r\n    }\r\n    return (<>{props.children}</>);\r\n}\r\n\r\nexport function Logout(props) {\r\n    inst.remove();\r\n    Redirect(\"/message/Logout\");\r\n    return;\r\n}\r\n\r\nexport function Name() {\r\n    if ( inst.session !== undefined ) {\r\n        return inst.session.name;\r\n    }\r\n    return \"\";\r\n}\r\n\r\nexport default withCookies(Authentication)\r\n"],"sourceRoot":""}